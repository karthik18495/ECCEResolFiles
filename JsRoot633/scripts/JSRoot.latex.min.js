var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var n=0;return function(){return n<a.length?{done:!1,value:a[n++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,n,p){a!=Array.prototype&&a!=Object.prototype&&(a[n]=p.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,n){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(p){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(p||"")+"_"+n++,p)}var n=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,n){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var p=0,u={next:function(){if(p<a.length){var f=p++;return{value:n(f,a[f]),done:!1}}u.next=function(){return{done:!0,value:void 0}};return u.next()}};u[Symbol.iterator]=function(){return u};return u};
$jscomp.polyfill=function(a,n,p,u){if(n){p=$jscomp.global;a=a.split(".");for(u=0;u<a.length-1;u++){var f=a[u];f in p||(p[f]={});p=p[f]}a=a[a.length-1];u=p[a];n=n(u);n!=u&&null!=n&&$jscomp.defineProperty(p,a,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(a){return a?a:function(a){return"number"!==typeof a?!1:!isNaN(a)&&Infinity!==a&&-Infinity!==a}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(a){return a?a:function(a){return Number.isFinite(a)?a===Math.floor(a):!1}},"es6","es3");$jscomp.makeIterator=function(a){var n="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return n?n.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function n(){this.batch_=null}function p(a){return a instanceof f?a:new f(function(e,E){e(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;n.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})}this.batch_.push(a)};var u=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(a){u(a,0)};n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var e=0;e<a.length;++e){var f=a[e];a[e]=null;try{f()}catch(O){this.asyncThrow_(O)}}}this.batch_=null};n.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{a(e.resolve,e.reject)}catch(N){e.reject(N)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(E){f||(f=!0,a.call(e,E))}}var e=this,f=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var e=null!=a;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var e=void 0;try{e=a.then}catch(N){this.reject_(N);return}"function"==typeof e?
this.settleSameAsThenable_(e,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,e){if(0!=this.state_)throw Error("Cannot settle("+a+", "+e+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=e;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)P.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var P=new n;f.prototype.settleSameAsPromise_=function(a){var e=this.createResolveAndReject_();a.callWhenSettled_(e.resolve,e.reject)};f.prototype.settleSameAsThenable_=function(a,e){var f=this.createResolveAndReject_();try{a.call(e,f.resolve,f.reject)}catch(O){f.reject(O)}};f.prototype.then=function(a,e){function n(a,e){return"function"==typeof a?function(e){try{p(a(e))}catch(h){E(h)}}:e}var p,E,u=new f(function(a,e){p=a;E=e});this.callWhenSettled_(n(a,p),n(e,E));return u};
f.prototype.catch=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,e){function f(){switch(n.state_){case 1:a(n.result_);break;case 2:e(n.result_);break;default:throw Error("Unexpected state: "+n.state_);}}var n=this;null==this.onSettledCallbacks_?P.asyncExecute(f):this.onSettledCallbacks_.push(f)};f.resolve=p;f.reject=function(a){return new f(function(e,f){f(a)})};f.race=function(a){return new f(function(e,f){for(var n=$jscomp.makeIterator(a),u=n.next();!u.done;u=n.next())p(u.value).callWhenSettled_(e,
f)})};f.all=function(a){var e=$jscomp.makeIterator(a),n=e.next();return n.done?p([]):new f(function(a,f){function u(e){return function(h){B[e]=h;E--;0==E&&a(B)}}var B=[],E=0;do B.push(void 0),E++,p(n.value).callWhenSettled_(u(B.length-1),f),n=e.next();while(!n.done)})};return f},"es6","es3");
JSROOT.define(["d3","painter"],function(a,n){function p(a,e,g,b){var c=function(a){if(!a||"string"!==typeof a||3>a.length)return null;var c=a.indexOf("ex");if(0>c||c!==a.length-2)return null;a=parseFloat(a.substr(0,c));return Number.isFinite(a)?a*b.font.size*.5:null},h=c(g.attr("width")),w=c(g.attr("height")),x=g.attr("style");if(x&&18<x.length&&0==x.indexOf("vertical-align:")){var f=x.indexOf("ex;");x=0<f&&f==x.length-3?c(x.substr(16,x.length-17)):null}else x=null;h=!h||.5>=h?1:Math.round(h);w=!w||
.5>=w?1:Math.round(w);g.attr("width",h).attr("height",w).attr("style",null);JSROOT.nodejs||(e=n.getElementRect(e,"bbox"),h=1.05*e.width,w=1.05*e.height);b.valign=x;b.scale&&a.scaleTextDrawing(Math.max(h/b.width,w/b.height),b.draw_g)}function u(a,e,g,b,c,f){a=parseInt(g.attr("width"));var h=parseInt(g.attr("height"));Number.isInteger(h)&&Number.isInteger(a)?0<f&&(a/=f,h/=f,g.attr("width",Math.round(a)).attr("height",Math.round(h))):(g=n.getElementRect(e,"bbox"),a=g.width||a||100,h=g.height||h||10);
0<f&&b.valign&&(b.valign/=f);null===b.valign&&(b.valign=(c-h)/2);f=c=1;g="x";var x="y";if(180==b.rotate)c=f=-1;else if(270==b.rotate||90==b.rotate)c=270==b.rotate?-1:1,f=-c,g="y",x="x";"middle"==b.align[0]?b[g]+=c*(b.width-a)/2:"end"==b.align[0]&&(b[g]+=c*(b.width-a));"middle"==b.align[1]?b[x]+=f*(b.height-h)/2:"bottom"==b.align[1]?b[x]+=f*(b.height-h):"bottom-base"==b.align[1]&&(b[x]+=f*(b.height-h-b.valign));a="translate("+b.x+","+b.y+")";b.rotate&&(a+=" rotate("+b.rotate+")");e.attr("transform",
a).attr("visibility",null)}var f={"#alpha":"\u03b1","#beta":"\u03b2","#chi":"\u03c7","#delta":"\u03b4","#varepsilon":"\u03b5","#phi":"\u03c6","#gamma":"\u03b3","#eta":"\u03b7","#iota":"\u03b9","#varphi":"\u03c6","#kappa":"\u03ba","#lambda":"\u03bb","#mu":"\u03bc","#nu":"\u03bd","#omicron":"\u03bf","#pi":"\u03c0","#theta":"\u03b8","#rho":"\u03c1","#sigma":"\u03c3","#tau":"\u03c4","#upsilon":"\u03c5","#varomega":"\u03d6","#omega":"\u03c9","#xi":"\u03be","#psi":"\u03c8","#zeta":"\u03b6","#Alpha":"\u0391",
"#Beta":"\u0392","#Chi":"\u03a7","#Delta":"\u0394","#Epsilon":"\u0395","#Phi":"\u03a6","#Gamma":"\u0393","#Eta":"\u0397","#Iota":"\u0399","#vartheta":"\u03d1","#Kappa":"\u039a","#Lambda":"\u039b","#Mu":"\u039c","#Nu":"\u039d","#Omicron":"\u039f","#Pi":"\u03a0","#Theta":"\u0398","#Rho":"\u03a1","#Sigma":"\u03a3","#Tau":"\u03a4","#Upsilon":"\u03a5","#varsigma":"\u03c2","#Omega":"\u03a9","#Xi":"\u039e","#Psi":"\u03a8","#Zeta":"\u0396","#varUpsilon":"\u03d2","#epsilon":"\u03b5","#sqrt":"\u221a","#bar":"",
"#overline":"","#underline":"","#strike":"","#leq":"\u2264","#/":"\u2044","#infty":"\u221e","#voidb":"\u0192","#club":"\u2663","#diamond":"\u2666","#heart":"\u2665","#spade":"\u2660","#leftrightarrow":"\u2194","#leftarrow":"\u2190","#uparrow":"\u2191","#rightarrow":"\u2192","#downarrow":"\u2193","#circ":"\u02c6","#pm":"\u00b1","#doublequote":"\u2033","#geq":"\u2265","#times":"\u00d7","#propto":"\u221d","#partial":"\u2202","#bullet":"\u2022","#divide":"\u00f7","#neq":"\u2260","#equiv":"\u2261","#approx":"\u2248",
"#3dots":"\u2026","#cbar":"|","#topbar":"\u00af","#downleftarrow":"\u21b5","#aleph":"\u2135","#Jgothic":"\u2111","#Rgothic":"\u211c","#voidn":"\u2118","#otimes":"\u2297","#oplus":"\u2295","#oslash":"\u2205","#cap":"\u2229","#cup":"\u222a","#supseteq":"\u2287","#supset":"\u2283","#notsubset":"\u2284","#subseteq":"\u2286","#subset":"\u2282","#int":"\u222b","#in":"\u2208","#notin":"\u2209","#angle":"\u2220","#nabla":"\u2207","#oright":"\u00ae","#ocopyright":"\u00a9","#trademark":"\u2122","#prod":"\u220f",
"#surd":"\u221a","#upoint":"\u02d9","#corner":"\u00ac","#wedge":"\u2227","#vee":"\u2228","#Leftrightarrow":"\u21d4","#Leftarrow":"\u21d0","#Uparrow":"\u21d1","#Rightarrow":"\u21d2","#Downarrow":"\u21d3","#LT":"<","#void1":"\u00ae","#copyright":"\u00a9","#void3":"\u2122","#sum":"\u2211","#arctop":"\u239b","#lbar":"\u23b8","#arcbottom":"\u239d","#void8":"","#bottombar":"\u230a","#arcbar":"\u23a7","#ltbar":"\u23a8","#AA":"\u212b","#aa":"\u00e5","#void06":"","#GT":">","#forall":"\u2200","#exists":"\u2203",
"#vec":"","#dot":"\u22c5","#hat":"\u00b7","#ddot":"","#acute":"","#grave":"","#check":"\u2713","#tilde":"\u02dc","#slash":"\u2044","#hbar":"\u0127","#box":"\u25fd","#Box":"\u2610","#parallel":"\u2225","#perp":"\u22a5","#odot":"\u2299","#left":"","#right":"","{}":""},P=new RegExp("("+Object.keys(f).join("|").replace(/\\\{/g,"{").replace(/\\\}/g,"}")+")","g"),E=function(a,e){for(;2<a.length&&"{"==a[0]&&"}"==a[a.length-1];)a=a.substr(1,a.length-2);return a.replace(P,function(a){return f[a]}).replace(/\{\}/g,
"")},e={};e.symbols_map=f;var N=[453,535,661,973,955,1448,1242,324,593,596,778,1011,431,570,468,492,947,885,947,947,947,947,947,947,947,947,511,495,980,1010,987,893,1624,1185,1147,1193,1216,1080,1028,1270,1274,531,910,1177,1004,1521,1252,1276,1111,1276,1164,1056,1073,1215,1159,1596,1150,1124,1065,540,591,540,837,874,572,929,972,879,973,901,569,967,973,453,458,903,453,1477,973,970,972,976,638,846,548,973,870,1285,884,864,835,656,430,656,1069],O={945:1002,946:996,967:917,948:953,949:834,966:1149,947:847,
951:989,953:516,954:951,955:913,956:1003,957:862,959:967,960:1070,952:954,961:973,963:1017,964:797,965:944,982:1354,969:1359,958:803,968:1232,950:825,913:1194,914:1153,935:1162,916:1178,917:1086,934:1358,915:1016,919:1275,921:539,977:995,922:1189,923:1170,924:1523,925:1253,927:1281,928:1281,920:1285,929:1102,931:1041,932:1069,933:1135,962:848,937:1279,926:1092,936:1334,918:1067,978:1154,8730:986,8804:940,8260:476,8734:1453,402:811,9827:1170,9830:931,9829:1067,9824:965,8596:1768,8592:1761,8593:895,
8594:1761,8595:895,710:695,177:955,8243:680,8805:947,215:995,8733:1124,8706:916,8226:626,247:977,8800:969,8801:1031,8776:976,8230:1552,175:883,8629:1454,8501:1095,8465:1002,8476:1490,8472:1493,8855:1417,8853:1417,8709:1205,8745:1276,8746:1404,8839:1426,8835:1426,8836:1426,8838:1426,8834:1426,8747:480,8712:1426,8713:1426,8736:1608,8711:1551,174:1339,169:1339,8482:1469,8719:1364,729:522,172:1033,8743:1383,8744:1383,8660:1768,8656:1496,8657:1447,8658:1496,8659:1447,8721:1182,9115:882,9144:1E3,9117:882,
8970:749,9127:1322,9128:1322,8491:1150,229:929,8704:1397,8707:1170,8901:524,183:519,10003:1477,732:692,295:984,9725:1780,9744:1581,8741:737,8869:1390,8857:1421},Oa=function(a,e,g){var b=a.length;g=(g||e.size)*e.aver_width;if(e.isMonospace())return b*g;for(var c=e=0;c<b;++c){var h=a.charCodeAt(c);e=32<=h&&127>h?e+N[h-32]:e+(O[h]||1E3)}return e/1E3*g},Y=[{name:"#it{"},{name:"#bf{"},{name:"#underline{",deco:"underline"},{name:"#overline{",deco:"overline"},{name:"#strike{",deco:"line-through"},{name:"#kern[",
arg:"float"},{name:"#lower[",arg:"float"},{name:"#scale[",arg:"float"},{name:"#color[",arg:"int"},{name:"#font[",arg:"int"},{name:"_{",low_up:"low"},{name:"^{",low_up:"up"},{name:"#bar{",deco:"overline"},{name:"#hat{",accent:"\u02c6",hasw:!0},{name:"#check{",accent:"\u02c7",hasw:!0},{name:"#acute{",accent:"\u02ca"},{name:"#grave{",accent:"\u02cb"},{name:"#dot{",accent:"\u02d9"},{name:"#ddot{",accent:"\u02ba",hasw:!0},{name:"#tilde{",accent:"\u02dc",hasw:!0},{name:"#slash{",accent:"\u2215"},{name:"#vec{",
accent:"\u02ed",hasw:!0},{name:"#frac{",twolines:"line"},{name:"#splitline{",twolines:!0},{name:"#sqrt[",arg:"int",sqrt:!0},{name:"#sqrt{",sqrt:!0},{name:"#sum",special:"\u2211",w:.8,h:.9},{name:"#int",special:"\u222b",w:.3,h:1},{name:"#left[",right:"#right]",braces:"[]"},{name:"#left(",right:"#right)",braces:"()"},{name:"#left{",right:"#right}",braces:"{}"},{name:"#left|",right:"#right|",braces:"||"},{name:"#[]{",braces:"[]"},{name:"#(){",braces:"()"},{name:"#{}{",braces:"{}"},{name:"#||{",braces:"||"}];
e.translateLaTeX=E;e.producePlainText=function(a,e,g){g.plain=!0;g.simple_latex&&(g.text=E(g.text));e.text(g.text)};e.isPlainText=function(a){return!a||0>a.indexOf("#")&&0>a.indexOf("{")};e.produceOldLatex=function(h,f,g,b,c){c||(c={lvl:0,x:0,y:0,dx:0,dy:-.1,fsize:g.font_size,parent:null},b=g.text,g.mainnode=f);for(var x=function(b,a){if("string"==typeof a){b.rect||(b.rect={x:b.x,y:b.y,height:0,width:0});var c=-b.x;b.x+=Oa(a,g.font,b.fsize);var d=b.x;var e=-(b.y-1.1*b.fsize);var f=b.y+.1*b.fsize}else b.rect||
(b.rect=JSROOT.extend({},a)),c=-a.x,d=a.x+a.width,e=-a.y,f=a.y+a.height;a=b.rect;c+=a.x;d-=a.x+a.width;e+=a.y;f-=a.y+a.height;0<c&&(a.x-=c,a.width+=c);0<d&&(a.width+=d);0<e&&(a.y-=e,a.height+=e);0<f&&(a.height+=f);if(b.parent)return x(b.parent,a);g.text_rect=a;b=a.height;c=a.y+a.height/2;0<b&&(g.mid_shift=-c/b||.001,g.top_shift=-a.y/b||.001)},w=function(b){if(.01>Math.abs(b))return null;if(b==Math.round(b))return Math.round(b)+"em";b=b.toFixed(2);0==b.indexOf("0.")?b=b.substr(1):0==b.indexOf("-0.")&&
(b="-."+b.substr(3));"0"==b[b.length-1]&&(b=b.substr(0,b.length-1));return b+"em"},C=function(b,c){if(JSROOT.nodejs||!b||b.empty())return c||{height:0,width:0};var d=[];for(c=b.node();c&&c!=g.mainnode.node();)d.push(c),c=c.parentNode;b.selectAll("tspan").each(function(){d.push(this)});b=g.mainnode.selectAll("tspan");3<b.size()&&(g.large_latex=!0);b.each(function(){0>d.indexOf(this)&&a.select(this).attr("display","none")});c=n.getElementRect(g.mainnode,"bbox");b.each(function(){0>d.indexOf(this)&&
a.select(this).attr("display",null)});return c},I=!1,m,l,v,r,k,t,d=null,p=null;b;){m=b.length;v=l=null;for(k=0;k<Y.length;++k)r=b.indexOf(Y[k].name),0<=r&&r<m&&(m=r,l=Y[k]);if(!l&&!I){I=E(b);if(!c.lvl&&I==b){e.producePlainText(h,f,g);break}x(c,I);c.accent&&1==I.length?(h=f.append("svg:tspan").text(I),C=C(h,{width:1E4}),C=Math.min(C.width/c.fsize,.5),f.append("svg:tspan").attr("dx",w(c.dx-C)).attr("dy",w(c.dy-.2)).text(c.accent),c.dy=.2,c.dx=Math.max(.2,C-.2),c.accent=!1):f.text(I);break}0<m&&(I=E(b.substr(0,
m)),0<I.length&&(x(c,I),f.append("svg:tspan").attr("dx",w(c.dx)).attr("dy",w(c.dy)).text(I),c.dx=c.dy=0),d=null,delete c.special,delete c.next_super_dy);if(!l)break;b=b.substr(m+l.name.length);m=t=f.append("svg:tspan");p=d;d={lvl:c.lvl+1,x:c.x,y:c.y,fsize:c.fsize,dx:0,dy:0,parent:c};I=!0;if(l.arg){r=b.indexOf("]{");if(0>r)return console.log("missing argument for ",l.name),!1;v=b.substr(0,r);if("int"==l.arg){if(v=parseInt(v),!Number.isInteger(v))return console.log("wrong int argument",b.substr(0,r)),
!1}else if("float"==l.arg&&(v=parseFloat(v),!Number.isFinite(v)))return console.log("wrong float argument",b.substr(0,r)),!1;b=b.substr(r+2)}r=c.dy;var y=c.dx,u=null;k=1;var z="{",A="}";c.dy=c.dx=0;if(l.special)t.attr("dx",w(y)).attr("dy",w(r)).text(l.special),y=r=0,c.special=l,m=C(t),m.width&&m.height&&(l.w=m.width/c.fsize,l.h=m.height/c.fsize-.1);else{if(l.braces)d.left_cont=t.append("svg:tspan"),d.left=d.left_cont.append("svg:tspan").text(l.braces[0]),m=t.append("svg:tspan"),d.left_rect={y:c.y-
1.1*c.fsize,height:1.2*c.fsize,x:c.x,width:.6*c.fsize},x(c,d.left_rect),d.braces=l,l.right&&(z=l.name,A=l.right);else if(l.deco)d.deco=l.deco;else if(l.accent)d.accent=l.accent;else switch(l.name){case "#color[":h.getColor(v)&&t.attr("fill",h.getColor(v));break;case "#kern[":y+=v;break;case "#lower[":c.dy-=v;r+=v;break;case "scale[":k=v;break;case "#font[":(new JSROOT.FontHandler(v)).setFont(t,"without-size");break;case "#it{":c.italic=!0;for(u=c;u=u.parent;)if(void 0!==u.italic){c.italic=!u.italic;
break}t.attr("font-style",c.italic?"italic":"normal");break;case "#bf{":c.bold=!0;for(u=c;u=u.parent;)if(void 0!==u.bold){c.bold=!u.bold;break}t.attr("font-weight",c.bold?"bold":"normal");break;case "#underline{":t.attr("text-decoration","underline");break;case "#overline{":t.attr("text-decoration","overline");break;case "_{":k=.6;d.script="sub";c.special?(c.dx=c.special.w,c.dy=-.7,y-=c.dx,r-=c.dy):(y+=.1*k,r+=.4*k,d.y+=.4*d.fsize,c.dy=-.4*k,p&&"super"===p.script&&(l=C(p.node,p.rect),d.width_limit=
l.width,y-=(l.width/d.fsize+.1)*k));break;case "^{":k=.6;d.script="super";c.special?(c.dx=c.special.w,c.dy=c.special.h,y-=c.dx,r-=c.dy):(c.dy=.6*k,c.next_super_dy&&(c.dy-=c.next_super_dy),y+=.1*k,r-=c.dy,d.y-=.4*d.fsize,p&&"sub"===p.script&&(l=C(p.node,p.rect),d.width_limit=l.width,y-=(l.width/d.fsize+.1)*k));break;case "#frac{":case "#splitline{":d.first=t;d.two_lines=!0;d.need_middle="#frac{"==l.name;d.x0=d.x;r-=.6;c.dy=-.6;break;case "#sqrt{":v=2;case "#sqrt[":d.square_root=t.append("svg:tspan"),
d.square_root.append("svg:tspan").text(3==v?"\u221b":4==v?"\u221c":"\u221a"),m=t.append("svg:tspan"),d.sqrt_rect={y:c.y-1.1*c.fsize,height:1.2*c.fsize,x:0,width:.7*c.fsize},x(c,d.sqrt_rect)}1!==k&&(t.attr("font-size",Math.round(100*k)+"%"),d.fsize*=k,y/=k,r/=k);c.special&&!d.script&&delete c.special;delete c.next_super_dy;for(d.node=t;;){d.x+=y*d.fsize;d.y+=r*d.fsize;t.attr("dx",w(y)).attr("dy",w(r));y=r=0;r=-1;for(k=1;0!=k&&++r<b.length;)b.indexOf(z,r)===r?k++:b.indexOf(A,r)===r&&k--;if(0!=k)return console.log("mismatch with open "+
z+" and close "+A+" braces in Latex",b),!1;l=b.substr(0,r);if(!e.produceOldLatex(h,m,g,l,d))return!1;c.x=d.x;c.y=d.y;c.dx+=d.dx*d.fsize/c.fsize;c.dy+=d.dy*d.fsize/c.fsize;b=b.substr(r+A.length);d.width_limit&&(l=C(m,d.rect),l.width<d.width_limit&&(c.dx+=(d.width_limit-l.width)/c.fsize),delete d.width_limit);c.special&&(l=C(m,d.rect),c.dx-=l.width/c.fsize);if(d.square_root){y=0;z=1;A=C(d.square_root,d.sqrt_rect);m=C(m,d.rect);m.height>A.height&&0<A.height&&(z=m.height/A.height*1.3,y=(m.y+m.height-
(A.y+A.height))/c.fsize/z,d.square_root.style("font-size",Math.round(100*z)+"%").attr("dy",w(y)));A="";for(m=Math.round(Math.max(m.width/d.fsize/z*3,2));m--;)A+="\u203e";d.square_root.append("svg:tspan").attr("dy",w(0)).text(A);d.square_root.append("svg:tspan").attr("dy",w(-y)).attr("dx",w(-A.length/3-.2)).text("\u2009");break}if(d.deco){if(0==m.selectAll("tspan").size()){m.attr("text-decoration",d.deco);break}y=C(m,d.rect).width/d.fsize;A=z=t=void 0;switch(d.deco){case "underline":z=.35;t=1.2;A=
"\uff3f";break;case "overline":z=-.35;t=3;A="\u203e";break;default:z=0,t=1.8,A="\u23af"}t=Math.round(Math.max(y*t,1));for(l="";t--;)l+=A;m.append("svg:tspan").attr("dx",w(-y-.2)).attr("dy",w(z)).text(l);c.dy-=z;break}if(d.braces){z=C(d.left_cont,d.left_rect);A=C(m,d.rect);m=1;y=0;1.2*z.height<A.height&&(m=A.height/z.height,y=0,d.left.style("font-size",Math.round(100*m)+"%").attr("dy",w(y)),d.left_cont.append("svg:tspan").attr("dx",w(-.2)).attr("dy",w(-y*m)).text("\u2009"),c.next_super_dy=-.3*m);d.left_rect.y=
c.y;d.left_rect.height*=m;x(c,d.left_rect);z=t.append("svg:tspan").attr("dx",w(c.dx)).attr("dy",w(c.dy));c.dx=c.dy=0;1!=m&&z.append("svg:tspan").attr("dx",w(-.2)).text("\u2009");z=z.append("svg:tspan").text(d.braces.braces[1]);1!=m&&(z.style("font-size",Math.round(100*m)+"%").attr("dy",w(y)),c.dy=-y*m);break}if(d.first&&d.second){m=C(d.first,d.rect1);t=C(d.second,d.rect);m=m.width/d.fsize;t=t.width/d.fsize;l=Math.max(t,m);if(d.need_middle){l=Math.round(Math.max(l,1)+.3);for(v="";v.length<l;)v+="\u2014";
f.append("svg:tspan").attr("dx",w(-.5*(l+t))).attr("dy",w(c.dy-.2)).text(v);c.dy=.2;c.dx=.2}else c.dx=.2,t<m&&(c.dx+=.5*(m-t));d.need_middle||"middle"==g.align[0]?(d.first.attr("dx",w(.5*(l-m))),d.second.attr("dx",w(-.5*(t+m)))):"end"==g.align[0]?(m<t&&d.first.attr("dx",w(t-m)),d.second.attr("dx",w(-t))):d.second.attr("dx",w(-m));delete d.first;delete d.second}if(!d.two_lines)break;if("{"!=b[0])return console.log("missing { for second line",b),!1;b=b.substr(1);t=m=f.append("svg:tspan");d.two_lines=
!1;d.rect1=d.rect;delete d.rect;d.x=d.x0;d.second=t;r=c.dy+1.6;c.dy=-.4;d.dx=d.dy=0}}}return!0};var B=function(a,e,g,b){for(var c=0,f=function(){b.g||(b.g=a.append("svg:g"));return b.g},h=function(a){b.x+=Math.round(a)},x=function(a,c,d,g){b.rect?(b.rect.x1=Math.min(b.rect.x1,a),b.rect.y1=Math.min(b.rect.y1,c),b.rect.x2=Math.max(b.rect.x2,d),b.rect.y2=Math.max(b.rect.y2,g)):b.rect={x1:a,y1:c,x2:d,y2:g};b.rect.width=b.rect.x2-b.rect.x1;b.rect.height=b.rect.y2-b.rect.y1;b.parent||(e.text_rect=b.rect)},
p=function(a,c,d,e){c=Math.round(c);(d=Math.round(d))?a.g.attr("transform","translate("+c+","+d+")"):c&&a.g.attr("transform","translate("+c+")");a.rect.x1+=c;a.rect.x2+=c;a.rect.y1+=d;a.rect.y2+=d;e?x(b.x+a.rect.x1,b.y+a.rect.y1,b.x+a.rect.x2,b.y+a.rect.y2):x(a.rect.x1,a.rect.y1,a.rect.x2,a.rect.y2)},m=function(){var a=f();if(1==c&&!g&&!b.x&&!b.y)return a;a=a.append("svg:g");b.y?a.attr("transform","translate("+b.x+","+b.y+")"):b.x&&a.attr("transform","translate("+b.x+")");return a},l=function(a,b,
c){var d=0,e=1,f=!1;b||(b="{");c||(c="}");var h=function(a){return d+a.length<=g.length&&g.substr(d,a.length)==a};for(a&&(h(b)?g=g.substr(b.length):f=!0);!f&&0!=e&&d<g.length;)h(b)?(e++,d+=b.length):h(c)?(e--,d+=c.length):d++;if(0!=e||f)return console.log("mismatch with open "+b+" and closing "+c+" in "+g),-1;a=g.substr(0,d-c.length);g=g.substr(d);return a},v=function(a,c){return a.append("svg:path").style("stroke",c?"none":b.color||e.color).style("stroke-width",c?null:Math.max(1,Math.round(b.fsize*
(b.font.weight?.1:.07)))).style("fill",c?b.color||e.color:"none")},r=function(a){return{lvl:b.lvl+1,x:0,y:0,fsize:b.fsize*(a||1),color:b.color,font:b.font,parent:b,painter:b.painter}},k={};g;){var t=g.length;k.$jscomp$loop$prop$found$53=null;for(var d=0;d<Y.length;++d){var u=g.indexOf(Y[d].name);0<=u&&u<t&&(t=u,k.$jscomp$loop$prop$found$53=Y[d])}if(0<t){var y=t==g.length&&0==c&&!k.$jscomp$loop$prop$found$53;c++;var N=E(g.substr(0,t));if(0<N.length||y){var z=(b.g||(y?a:f())).append("svg:text");y&&
!b.g&&(b.g=z);b.ufont&&b.font.setFont(b.g);void 0!==b.bold&&b.g.attr("font-weight",b.bold?"bold":"normal");void 0!==b.italic&&b.g.attr("font-style",b.italic?"italic":"normal");z.attr("fill",b.color||e.color||null);b.fisze!==b.font.size&&z.attr("font-size",Math.round(b.fsize));z.text(N);var A=JSROOT.nodejs||JSROOT.settings.ApproxTextSize||e.fast?{height:1.2*b.fsize,width:Oa(N,b.font,b.fsize)}:n.getElementRect(z,"nopadding");b.x&&z.attr("x",b.x);b.y&&z.attr("y",b.y);b.last_y1=b.y-.8*A.height;b.last_y2=
b.y+.2*A.height;x(b.x,b.last_y1,b.x+A.width,b.last_y2);y?b.deco&&(z.attr("text-decoration",b.deco),delete b.deco):h(A.width)}}if(!k.$jscomp$loop$prop$found$53)break;g=g.substr(t+k.$jscomp$loop$prop$found$53.name.length);c++;if(k.$jscomp$loop$prop$found$53.accent){var O=l();if(-1===O)return!1;var J=m(),V=r();B(J,e,O,V);var P=.6*b.fsize,fa=0,Z=V.rect.width,F=Math.round(V.rect.y1),Q=Math.round(.1*b.fsize),D=2*Q,za="a"+Q+","+Q+",0,0,1,"+D+",0a"+Q+","+Q+",0,0,1,"+-D+",0z";k.$jscomp$loop$prop$found$53.hasw&&
Z<P&&(Z=P,fa=(P-V.rect.width)/2);var K=Math.round(.5*Z),aa=Math.round(.3*Z),pa=K-aa,qa=K+aa;Z=2*K;p(V,fa,0,!0);switch(k.$jscomp$loop$prop$found$53.name){case "#check{":v(J).attr("d","M"+pa+","+(F-D)+"L"+K+","+F+"L"+qa+","+(F-D));break;case "#acute{":v(J).attr("d","M"+K+","+F+"l"+D+","+-D);break;case "#grave{":v(J).attr("d","M"+K+","+F+"l"+-D+","+-D);break;case "#dot{":v(J,!0).attr("d","M"+(K-Q)+","+F+za);break;case "#ddot{":v(J,!0).attr("d","M"+(K-3*Q)+","+F+za+" M"+(K+Q)+","+F+za);break;case "#tilde{":v(J).attr("d",
"M"+pa+","+F+" a"+aa+","+D+",0,0,1,"+aa+",0 a"+aa+","+D+",0,0,0,"+aa+",0");break;case "#slash{":v(J).attr("d","M"+Z+","+F+"L0,"+Math.round(V.rect.y2));break;case "#vec{":v(J).attr("d","M"+pa+","+F+"H"+qa+"M"+(qa-D)+","+(F-D)+"l"+D+","+D+"l"+-D+","+D);break;default:v(J).attr("d","M"+pa+","+F+"L"+K+","+(F-D)+"L"+qa+","+F)}h(V.rect.width)}else if(k.$jscomp$loop$prop$found$53.twolines){b.twolines=!0;var Pa=l(),Qa=l(!0);if(-1===Pa||-1===Qa)return!1;var Aa=m(),Ra=b.parent&&b.parent.twolines?.7:1,ha=r(Ra);
B(Aa,e,Pa,ha);var Sa="line"==k.$jscomp$loop$prop$found$53.twolines?v(Aa):null,ia=r(Ra);B(Aa,e,Qa,ia);var Ta=Math.max(ha.rect.width,ia.rect.width),ra=ha.rect.width-ia.rect.width,Ba=.35*-b.fsize;p(ha,0>ra?-ra/2:0,Ba-ha.rect.y2,!0);p(ia,0<ra?ra/2:0,Ba-ia.rect.y1,!0);Sa&&Sa.attr("d","M0,"+Math.round(Ba)+"h"+Math.round(Ta-.1*b.fsize));h(Ta);delete b.twolines}else{var Ua=function(a){return function(b){var c={};if(b&&(c[b]=l(),-1===c[b]))return!1;for(;0<g.length;)if("_"==g.charAt(0)){if(g=g.substr(1),c.low=
c.low?-1:l(!0),-1===c.low)return console.log("error with "+a.$jscomp$loop$prop$found$53.name+" low limit"),!1}else if("^"==g.charAt(0)){if(g=g.substr(1),c.up=c.up?-1:l(!0),-1===c.up)return console.log("error with "+a.$jscomp$loop$prop$found$53.name+" upper limit"),!1}else break;return c}}(k);if(k.$jscomp$loop$prop$found$53.low_up){var ja=Ua(k.$jscomp$loop$prop$found$53.low_up);if(!ja)return!1;var ba=void 0,ca=void 0,Va=b.x,Wa=-b.fsize,Xa=.25*b.fsize,Ya=0,Za=0;ja.up&&(ba=r(.6),B(f(),e,ja.up,ba));ja.low&&
(ca=r(.6),B(f(),e,ja.low,ca));void 0!==b.last_y1&&void 0!==b.last_y2&&(Wa=b.last_y1,Xa=b.last_y2);ba&&(p(ba,Va,Wa-ba.rect.y1-.1*b.fsize),Ya=ba.rect.width);ca&&(p(ca,Va,Xa-ca.rect.y2+.1*b.fsize),Za=ca.rect.width);h(Math.max(Ya,Za))}else if(k.$jscomp$loop$prop$found$53.special){var ka=Ua(k.$jscomp$loop$prop$found$53.low_up);if(!ka)return!1;var Ca=m(),$a=v(Ca),R=Math.round(2*b.fsize),W=Math.round(b.fsize),L=Math.round(.1*R),Da=void 0,Ea=void 0;"#sum"==k.$jscomp$loop$prop$found$53.name?(Da=Ea=W/2,$a.attr("d",
"M"+W+","+Math.round(-.75*R)+"h"+-W+"l"+Math.round(.4*W)+","+Math.round(.3*R)+"l"+Math.round(-.4*W)+","+Math.round(.7*R)+"h"+W)):(Da=3*L,Ea=L,$a.attr("d","M0,"+Math.round(.25*R-L)+"a"+L+","+L+",0,0,0,"+2*L+",0v"+(2*L-R)+"a"+L+","+L+",0,1,1,"+2*L+",0"));if(ka.low){var sa=r(.6);B(Ca,e,ka.low,sa);p(sa,Ea-sa.rect.width/2,.25*R-sa.rect.y1,!0)}if(ka.up){var ta=r(.6);B(Ca,e,ka.up,ta);p(ta,Da-ta.rect.width/2,-.75*R-ta.rect.y2,!0)}h(W)}else if(k.$jscomp$loop$prop$found$53.braces){var ab=k.$jscomp$loop$prop$found$53.right,
ya=l(!1,ab?k.$jscomp$loop$prop$found$53.name:"{",ab),Fa=m(),Ga=r(),ua=v(Fa);B(Fa,e,ya,Ga);var va=v(Fa),q=Math.max(2,Math.round(.2*b.fsize)),M=Ga.rect,G=Math.round(M.y2-M.y1),S=Math.round(M.y1),wa=Math.round(M.width);switch(k.$jscomp$loop$prop$found$53.braces){case "||":ua.attr("d","M"+q+","+S+"v"+G);va.attr("d","M"+(3*q+wa)+","+S+"v"+G);break;case "[]":ua.attr("d","M"+2*q+","+S+"h"+-q+"v"+G+"h"+q);va.attr("d","M"+(2*q+wa)+","+S+"h"+q+"v"+G+"h"+-q);break;case "{}":ua.attr("d","M"+2*q+","+S+" a"+q+
","+q+",0,0,0,"+-q+","+q+" v"+(G/2-2*q)+" a"+q+","+q+",0,0,1,"+-q+","+q+" a"+q+","+q+",0,0,1,"+q+","+q+" v"+(G/2-2*q)+" a"+q+","+q+",0,0,0,"+q+","+q);va.attr("d","M"+(2*q+wa)+","+S+" a"+q+","+q+",0,0,1,"+q+","+q+" v"+(G/2-2*q)+" a"+q+","+q+",0,0,0,"+q+","+q+" a"+q+","+q+",0,0,0,"+-q+","+q+" v"+(G/2-2*q)+" a"+q+","+q+",0,0,1,"+-q+","+q);break;default:ua.attr("d","M"+q+","+S+"a"+4*G+","+4*G+",0,0,0,0,"+G),va.attr("d","M"+(3*q+wa)+","+S+"a"+4*G+","+4*G+",0,0,1,0,"+G)}p(Ga,2*q,0,!0);x(b.x,b.y+M.y1,b.x+
4*q+M.width,b.y+M.y2);h(4*q+M.width);b.last_y1=M.y1;b.last_y2=M.y2}else if(k.$jscomp$loop$prop$found$53.deco){var ib=l(),bb=m(),da=r();da.deco=k.$jscomp$loop$prop$found$53.deco;B(bb,e,ib,da);var ea=da.rect;if(da.deco){var Ha=v(bb),Ia=Math.round(ea.width);switch(da.deco){case "underline":Ha.attr("d","M0,"+Math.round(ea.y2)+"h"+Ia);break;case "overline":Ha.attr("d","M0,"+Math.round(ea.y1)+"h"+Ia);break;case "line-through":Ha.attr("d","M0,"+Math.round(.45*ea.y1+.55*ea.y2)+"h"+Ia)}}p(da,0,0,!0);h(ea.width)}else if("#bf{"==
k.$jscomp$loop$prop$found$53.name||"#it{"==k.$jscomp$loop$prop$found$53.name){var cb=l();if(-1===cb)return!1;var X=r();"#bf{"==k.$jscomp$loop$prop$found$53.name?X.bold=!X.bold:X.italic=!X.italic;B(f(),e,cb,X);p(X,b.x,b.y);h(X.rect.width)}else{var H=0;if(k.$jscomp$loop$prop$found$53.arg){var la=g.indexOf("]{");if(0>la)return console.log("missing argument for ",k.$jscomp$loop$prop$found$53.name),!1;H=g.substr(0,la);if("int"==k.$jscomp$loop$prop$found$53.arg){if(H=parseInt(H),!Number.isInteger(H))return console.log("wrong int argument",
g.substr(0,la)),!1}else if("float"==k.$jscomp$loop$prop$found$53.arg&&(H=parseFloat(H),!Number.isFinite(H)))return console.log("wrong float argument",g.substr(0,la)),!1;g=g.substr(la+2)}if("#kern["==k.$jscomp$loop$prop$found$53.name||"#lower["==k.$jscomp$loop$prop$found$53.name){var db=l();if(-1===db)return!1;var ma=r();B(f(),e,db,ma);var Ja=0,eb=0;"kern["==k.$jscomp$loop$prop$found$53.name?Ja=H:eb=H;p(ma,b.x+Ja*ma.rect.width,b.y+eb*ma.rect.height);h(ma.rect.width*(0<Ja?1+H:1))}else if("#color["==
k.$jscomp$loop$prop$found$53.name||"#scale["==k.$jscomp$loop$prop$found$53.name||"#font["==k.$jscomp$loop$prop$found$53.name){var fb=l();if(-1===fb)return!1;var T=r();"#color["==k.$jscomp$loop$prop$found$53.name?T.color=b.painter.getColor(H):"#font["==k.$jscomp$loop$prop$found$53.name?(T.font=new JSROOT.FontHandler(H),T.ufont=!0):T.fsize*=H;B(f(),e,fb,T);p(T,b.x,b.y);h(T.rect.width)}else if(k.$jscomp$loop$prop$found$53.sqrt){var gb=l();if(-1===gb)return!1;var Ka=m(),na=void 0,La=r();k.$jscomp$loop$prop$found$53.arg&&
(na=r(.7),B(Ka,e,H.toString(),na));var jb=v(Ka);B(Ka,e,gb,La);var U=La.rect,oa=Math.round(U.height),xa=Math.round(.1*U.height),Ma=Math.round(U.width),Na=Math.round((U.y1+U.y2)/2),hb=Math.round(.2*b.fsize),kb=Math.round(U.y2);na&&p(na,0,Na-.3*na.fsize,!0);jb.attr("d","M0,"+Na+"h"+xa+"l"+xa+","+(kb-Na-hb)+"l"+xa+","+(-oa+hb)+"h"+Math.round(.2*oa+Ma)+"v"+xa);p(La,.4*oa,0,!0);x(b.x,b.y+U.y1-.1*b.fsize,b.x+Ma+.6*oa,b.y+U.y2);h(Ma+.6*oa)}}}k={$jscomp$loop$prop$found$53:k.$jscomp$loop$prop$found$53}}return!0};
e.produceLatex=function(a,e,g){return B(e,g,g.text,{lvl:0,g:e,x:0,y:0,dx:0,dy:-.1,fsize:g.font_size,font:g.font,parent:null,painter:a})};e.loadMathjax=function(){var a=void 0!==e._mj_loading;if(!a&&"undefined"!=typeof MathJax)return Promise.resolve(MathJax);a||(e._mj_loading=[]);var f=new Promise(function(a){e._mj_loading?e._mj_loading.push(a):a(MathJax)});if(a)return f;var g={scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!0,mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",
displayIndent:"0",fontCache:"local",localID:null,internalSpeechTitles:!0,titleID:0};JSROOT.nodejs||(window.MathJax={options:{enableMenu:!1},loader:{load:["[tex]/color"]},tex:{packages:{"[+]":["color"]}},svg:g,startup:{ready:function(){MathJax.startup.defaultReady();var a=e._mj_loading;delete e._mj_loading;a.forEach(function(a){return a(MathJax)})}}});JSROOT.require("mathjax").then(function(a){JSROOT.nodejs&&a.init({loader:{load:["input/tex","output/svg","[tex]/color"]},tex:{packages:{"[+]":["color"]}},
svg:g,config:{JSDOM:require("jsdom").JSDOM},startup:{typeset:!1,ready:function(){MathJax.startup.registerConstructor("jsdomAdaptor",function(){return new MathJax._.adaptors.HTMLAdaptor.HTMLAdaptor((new MathJax.config.config.JSDOM).window)});MathJax.startup.useAdaptor("jsdomAdaptor",!0);MathJax.startup.defaultReady();var a=e._mj_loading;delete e._mj_loading;a.forEach(function(a){return a(MathJax)})}}})});return f};var fa={"#LT":"\\langle","#GT":"\\rangle","#club":"\\clubsuit","#spade":"\\spadesuit",
"#heart":"\\heartsuit","#diamond":"\\diamondsuit","#voidn":"\\wp","#voidb":"f","#copyright":"(c)","#ocopyright":"(c)","#trademark":"TM","#void3":"TM","#oright":"R","#void1":"R","#3dots":"\\ldots","#lbar":"\\mid","#void8":"\\mid","#divide":"\\div","#Jgothic":"\\Im","#Rgothic":"\\Re","#doublequote":'"',"#plus":"+","#minus":"-","#/":"/","#upoint":".","#aa":"\\mathring{a}","#AA":"\\mathring{A}","#omicron":"o","#Alpha":"A","#Beta":"B","#Epsilon":"E","#Zeta":"Z","#Eta":"H","#Iota":"I","#Kappa":"K","#Mu":"M",
"#Nu":"N","#Omicron":"O","#Rho":"P","#Tau":"T","#Chi":"X","#varomega":"\\varpi","#corner":"?","#ltbar":"?","#bottombar":"?","#notsubset":"?","#arcbottom":"?","#cbar":"?","#arctop":"?","#topbar":"?","#arcbar":"?","#downleftarrow":"?","#splitline":"\\genfrac{}{}{0pt}{}","#it":"\\textit","#bf":"\\textbf","#frac":"\\frac","#left{":"\\lbrace","#right}":"\\rbrace","#left\\[":"\\lbrack","#right\\]":"\\rbrack","#\\[\\]{":"\\lbrack"," } ":"\\rbrack","#\\[":"\\lbrack","#\\]":"\\rbrack","#{":"\\lbrace","#}":"\\rbrace",
" ":"\\;"},ya=function(a,e,g,b){if(2!=e){for(var c in fa)a=a.replace(new RegExp(c,"g"),fa[c]);for(var h in f)2<h.length&&(a=a.replace(new RegExp(h,"g"),"\\"+h.substr(1)));e="";for(c=!0;a;){h=a.indexOf("#color[");if(0>h&&c){e=a;break}c=!1;if(0!=h){var p=0>h?a:a.substr(0,h);e+=p;if(0>h)break}a=a.substr(h+7);h=a.indexOf("]{");if(0>=h)break;p=parseInt(a.substr(0,h));if(!Number.isInteger(p))break;p=b.getColor(p);var n=1;a=a.substr(h+2);for(h=-1;n&&++h<a.length;)"{"==a[h]?n++:"}"==a[h]&&n--;if(0!=n)break;
n=a.substr(0,h);a=a.substr(h+1);n&&(e+="\\color{"+p+"}{"+n+"}")}a=e}else a=a.replace(/\\\^/g,"\\hat");return"string"!=typeof g?a:"\\color{"+g+"}{"+a+"}"};e.produceMathjax=function(f,n,g){var b=ya(g.text,g.latex,g.color,f),c={em:g.font.size,ex:g.font.size/2,family:g.font.name,scale:1,containerWidth:-1,lineWidth:1E5};return e.loadMathjax().then(function(){return MathJax.tex2svgPromise(b,c)}).then(function(b){var c=a.select(b).select("svg");n.append(function(){return c.node()});p(f,n,c,g);g.applyAttributesToMathJax=
u;return!0})};e.typesetMathjax=function(a){return e.loadMathjax().then(function(){return MathJax.typesetPromise(a?[a]:void 0)})};JSROOT.nodejs&&(module.exports=e);return e});
