var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,q,u){e!=Array.prototype&&e!=Object.prototype&&(e[q]=u.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,q,u,r){if(q){u=$jscomp.global;e=e.split(".");for(r=0;r<e.length-1;r++){var p=e[r];p in u||(u[p]={});u=u[p]}e=e[e.length-1];r=u[e];q=q(r);q!=r&&null!=q&&$jscomp.defineProperty(u,e,{configurable:!0,writable:!0,value:q})}};$jscomp.polyfill("Number.isFinite",function(e){return e?e:function(e){return"number"!==typeof e?!1:!isNaN(e)&&Infinity!==e&&-Infinity!==e}},"es6","es3");
$jscomp.polyfill("Number.isInteger",function(e){return e?e:function(e){return Number.isFinite(e)?e===Math.floor(e):!1}},"es6","es3");$jscomp.polyfill("Math.log10",function(e){return e?e:function(e){return Math.log(e)/Math.LN10}},"es6","es3");$jscomp.arrayIteratorImpl=function(e){var q=0;return function(){return q<e.length?{done:!1,value:e[q++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};
$jscomp.makeIterator=function(e){var q="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return q?q.call(e):$jscomp.arrayIterator(e)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(e){function q(){this.batch_=null}function u(e){return e instanceof p?e:new p(function(v,p){v(e)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;q.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var v=this;this.asyncExecuteFunction(function(){v.executeBatch_()})}this.batch_.push(e)};var r=$jscomp.global.setTimeout;q.prototype.asyncExecuteFunction=function(e){r(e,0)};q.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=
this.batch_;this.batch_=[];for(var n=0;n<e.length;++n){var p=e[n];e[n]=null;try{p()}catch(g){this.asyncThrow_(g)}}}this.batch_=null};q.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var p=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var v=this.createResolveAndReject_();try{e(v.resolve,v.reject)}catch(B){v.reject(B)}};p.prototype.createResolveAndReject_=function(){function e(g){return function(e){p||(p=!0,g.call(n,e))}}var n=this,p=!1;
return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};p.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof p)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var n=null!=e;break a;case "function":n=!0;break a;default:n=!1}n?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};p.prototype.resolveToNonPromiseObj_=function(e){var n=void 0;try{n=e.then}catch(B){this.reject_(B);return}"function"==typeof n?
this.settleSameAsThenable_(n,e):this.fulfill_(e)};p.prototype.reject_=function(e){this.settle_(2,e)};p.prototype.fulfill_=function(e){this.settle_(1,e)};p.prototype.settle_=function(e,n){if(0!=this.state_)throw Error("Cannot settle("+e+", "+n+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=n;this.executeOnSettledCallbacks_()};p.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)w.asyncExecute(this.onSettledCallbacks_[e]);
this.onSettledCallbacks_=null}};var w=new q;p.prototype.settleSameAsPromise_=function(e){var n=this.createResolveAndReject_();e.callWhenSettled_(n.resolve,n.reject)};p.prototype.settleSameAsThenable_=function(e,n){var p=this.createResolveAndReject_();try{e.call(n,p.resolve,p.reject)}catch(g){p.reject(g)}};p.prototype.then=function(e,n){function v(e,n){return"function"==typeof e?function(n){try{g(e(n))}catch(m){q(m)}}:n}var g,q,r=new p(function(e,n){g=e;q=n});this.callWhenSettled_(v(e,g),v(n,q));return r};
p.prototype.catch=function(e){return this.then(void 0,e)};p.prototype.callWhenSettled_=function(e,n){function p(){switch(g.state_){case 1:e(g.result_);break;case 2:n(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?w.asyncExecute(p):this.onSettledCallbacks_.push(p)};p.resolve=u;p.reject=function(e){return new p(function(n,p){p(e)})};p.race=function(e){return new p(function(n,p){for(var g=$jscomp.makeIterator(e),q=g.next();!q.done;q=g.next())u(q.value).callWhenSettled_(n,
p)})};p.all=function(e){var n=$jscomp.makeIterator(e),q=n.next();return q.done?u([]):new p(function(e,p){function g(g){return function(m){r[g]=m;v--;0==v&&e(r)}}var r=[],v=0;do r.push(void 0),v++,u(q.value).callWhenSettled_(g(r.length-1),p),q=n.next();while(!q.done)})};return p},"es6","es3");
JSROOT.define(["d3"],function(e){function q(a){this.opt=a&&"string"==typeof a?a.toUpperCase().trim():"";this.part=""}function u(a){this.palette=a}function r(a){this.x0=this.y0=0;this.color="black";this.style=1;this.size=8;this.scale=1;this.fill=this.stroke=!0;this.marker="";this.ndig=0;this.used=!0;this.changed=!1;this.func=this.apply.bind(this);this.setArgs(a);this.changed=!1}function p(a){this.func=this.apply.bind(this);this.used=!0;a._typename&&void 0!==a.fLineStyle&&(a={attr:a});this.setArgs(a)}
function w(a){this.color="none";this.pattern=this.colorindx=0;this.used=!0;this.kind=a.kind||2;this.changed=!1;this.func=this.apply.bind(this);this.setArgs(a);this.changed=!1}function v(a,b,c,d,f,h){this.name="Arial";this.weight=this.style=null;c&&1>b&&(b*=c,this.scaled=!0);this.size=Math.round(b||11);this.scale=c;if(null!==a){a=Math.floor(a/10);for(b=m.root_fonts[a]||"Arial";0<b.length;){if("b"===b[0])this.weight="bold";else if("i"===b[0])this.style="italic";else if("o"===b[0])this.style="oblique";
else break;b=b.substr(1)}"Symbol"==b&&(this.weight=this.style=null);this.name=b;this.aver_width=m.root_fonts_aver_width[a]||.55}else this.name=d,this.style=f||null,this.aver_width=(this.weight=h||null)?.58:.55;this.func=this.setFont.bind(this)}function n(a){this.divid=null;a&&this.setDom(a)}function B(a,b){var c=a.selectDom().node();c=c?c.firstChild:null;if(!c)return null;!0===b?c.painter=a:!1===b&&delete c.painter;return c.painter}function g(a,b,c){n.call(this,a);void 0!==b&&(this.pad_name=a?this.selectCurrentPad():
"",this.assignObject(b),"string"==typeof c&&(this.options={original:c}))}function D(a,b,c){var d=b.property("all_args"),f=0;d||(console.log("Text drawing is finished - why?????"),d=[]);d.forEach(function(a){a.ready||f++});if(0<f)"function"==typeof c&&(b.node().textResolveFunc=c);else{b.property("all_args",null);var h=b.property("text_factor"),k=b.property("text_font"),l=b.property("max_font_size"),e=k.size,g=!1;0<h&&(.9>h||1<h)&&(k.size=Math.floor(k.size/h));l&&k.size>l&&(k.size=l);k.size!=e&&(b.call(k.func),
e=k.size);d.forEach(function(b){if(b.mj_node&&b.applyAttributesToMathJax){var c=b.mj_node.select("svg");b.applyAttributesToMathJax(a,b.mj_node,c,b,e,h);delete b.mj_node}});d.forEach(function(a){var b=1;if(a.txt_node){var c=a.txt_node;delete a.txt_node;var d=!0}else if(a.txt_g)c=a.txt_g,delete a.txt_g,d=!1;else return;c.attr("visibility",null);g=!0;a.width&&("middle"==a.align[0]?a.x+=a.width/2:"end"==a.align[0]&&(a.x+=a.width));a.height&&(0===a.align[1].indexOf("bottom")?a.y+=a.height:"middle"==a.align[1]&&
(a.y+=a.height/2));a.dx=a.dy=0;d?(JSROOT.nodejs?a.scale&&0<h&&(a.box.width*=1/h,a.box.height*=1/h):a.plain||a.fast||(a.box=m.getElementRect(c,"bbox")),a.plain?(c.attr("text-anchor",a.align[0]),"top"==a.align[1]?c.attr("dy",".8em"):"middle"==a.align[1]&&(JSROOT.nodejs?c.attr("dy",".4em"):c.attr("dominant-baseline","middle"))):(c.attr("text-anchor","start"),a.dx=("middle"==a.align[0]?-.5:"end"==a.align[0]?-1:0)*a.box.width,a.dy=("top"==a.align[1]?a.top_shift||1:"middle"==a.align[1]?a.mid_shift||.5:
0)*a.box.height)):(d=a.text_rect,b=0<h&&.01<Math.abs(1-h)?1/h:1,a.dx=("middle"==a.align[0]?-.5:"end"==a.align[0]?-1:0)*d.width*b,"top"==a.align[1]?a.dy=-d.y1*b:"bottom"==a.align[1]?a.dy=-d.y2*b:"middle"==a.align[1]&&(a.dy=-.5*(d.y1+d.y2)*b));a.rotate||(a.x+=a.dx,a.y+=a.dy,a.dx=a.dy=0);d="";a.y?d="translate("+Math.round(a.x)+","+Math.round(a.y)+")":a.x&&(d="translate("+Math.round(a.x)+")");a.rotate&&(d+=" rotate("+Math.round(a.rotate)+")");1!==b&&(d+=" scale("+b.toFixed(3)+")");a.dy?d+=" translate("+
Math.round(a.dx)+","+Math.round(a.dy)+")":a.dx&&(d+=" translate("+Math.round(a.dx)+")");d&&c.attr("transform",d)});g||k.clearFont(b);c||(c=b.node().textResolveFunc);b.node().textResolveFunc=null;c&&c(a)}}function F(a,b,c){c.box=JSROOT.nodejs||JSROOT.settings.ApproxTextSize||c.fast?c.text_rect||{height:1.2*c.font_size,width:c.text.length*c.font_size*c.font.aver_width}:m.getElementRect(b,"bbox");b.attr("visibility","hidden");c.box.width>c.draw_g.property("max_text_width")&&c.draw_g.property("max_text_width",
c.box.width);c.scale&&a.scaleTextDrawing(Math.max(1.05*c.box.width/c.width,1*c.box.height/c.height),c.draw_g);c.result_width=c.box.width;c.result_height=c.box.height;"function"==typeof c.post_process&&c.post_process(a);return c.box.width}function y(a,b){g.call(this,a,b);this.name="yaxis";this.kind="normal";this.func=null;this.full_min=this.order=0;this.full_max=1;this.scale_min=0;this.scale_max=1;this.ticks=[]}function z(a,b){if("string"!=typeof a)return null;""===b&&(b=null);var c=null;if(null===
b&&a in A.cache)return A.cache[a];for(var d=0==a.indexOf("ROOT.")?a.substr(5):"kind:"+a,f=0,h=0;h<A.lst.length;++h){var k=A.lst[h];if("string"==typeof k.name){if(k.name!=d)continue}else if(!d.match(k.name))continue;if(void 0!==k.sameas)return z("ROOT."+k.sameas,b);if(null===b||void 0===b)return a in A.cache||(A.cache[a]=k),k;if("string"==typeof b)if(c||(c=k),"::expand"==b){if("expand"in k||"expand_item"in k)return k}else{if("opt"in k){for(var l=k.opt.split(";"),e=0;e<l.length;++e)l[e]=l[e].toLowerCase();
if(0<=l.indexOf(b.toLowerCase()))return k}}else if(b===f)return k;++f}return c}function E(a,b){var c={opts:null,inspect:!1,expand:!1,draw:!1,handle:null};if("string"!=typeof a)return c;var d=!1,f=!1,h=!1;"string"!==typeof b&&(b="");for(var k=0;1E3>k;++k){var l=z(a,k);if(!l)break;c.handle||(c.handle=l);l.noinspect&&(f=!0);if(l.expand||l.expand_item||l.can_expand)h=!0;if(!("func"in l))break;d=!0;if("opt"in l){for(var e=l.opt.split(";"),g=0;g<e.length;++g)e[g]=e[g].toLowerCase(),0<=b.indexOf("nosame")&&
0==e[g].indexOf("same")||(null===c.opts&&(c.opts=[]),0>c.opts.indexOf(e[g])&&c.opts.push(e[g]));if(l.theonly)break}}0<=b.indexOf("noinspect")&&(f=!0);d&&null===c.opts&&(c.opts=[""]);d||0!=a.indexOf("ROOT.")||f||(c.opts=[]);!f&&c.opts&&c.opts.push("inspect");c.inspect=!f;c.expand=h;c.draw=c.opts&&0<c.opts.length;return c}JSROOT.loadScript("$$$style/JSRoot.painter");"object"===typeof e&&e.version?"6"!==e.version[0]?console.error("Unsupported d3.js version "+e.version+", expected 6.7.0"):"6.7.0"!==e.version&&
console.log("Reuse existing d3.js version "+e.version+", expected 6.7.0"):console.error("Fail to detect d3.js");q.prototype.empty=function(){return 0===this.opt.length?!0:0==this.opt.replace(/[ ;_,]/g,"").length};q.prototype.remain=function(){return this.opt};q.prototype.check=function(a,b){var c=this.opt.indexOf(a);if(0>c)return!1;this.opt=this.opt.substr(0,c)+this.opt.substr(c+a.length);this.part="";if(!b)return!0;for(a=c;a<this.opt.length&&" "!==this.opt[a]&&","!==this.opt[a]&&";"!==this.opt[a];)a++;
a>c&&(this.part=this.opt.substr(c,a-c),this.opt=this.opt.substr(0,c)+this.opt.substr(a));return!0};q.prototype.partAsInt=function(a,b){var c=this.part.replace(/^\D+/g,"");c=c?parseInt(c,10):Number.NaN;return Number.isInteger(c)?c+(a||0):b||0};q.prototype.partAsFloat=function(a,b){var c=this.part.replace(/^\D+/g,"");c=c?parseFloat(c):Number.NaN;return Number.isFinite(c)?c+(a||0):b||0};var m={Coord:{kCARTESIAN:1,kPOLAR:2,kCYLINDRICAL:3,kSPHERICAL:4,kRAPIDITY:5},root_colors:[],root_line_styles:"  3,3 1,2 3,4,1,4 5,3,1,3 5,3,1,3,1,3,1,3 5,5 5,3,1,3,1,3 20,5 20,10,1,10 1,3".split(" "),
root_markers:[0,1,2,3,4,5,106,107,104,1,1,1,1,1,1,1,1,1,1,1,104,125,126,132,4,25,26,27,28,130,30,3,32,127,128,35,36,37,38,137,40,140,42,142,44,144,46,146,148,149],root_fonts:"Arial;iTimes New Roman;bTimes New Roman;biTimes New Roman;Arial;oArial;bArial;boArial;Courier New;oCourier New;bCourier New;boCourier New;Symbol;Times New Roman;Wingdings;iSymbol;Verdana;iVerdana;bVerdana;biVerdana".split(";"),root_fonts_aver_width:[.5778,.5314,.5809,.554,.5778,.5783,.6034,.603,.6003,.6004,.6003,.6005,.5564,
.5521,.5664,.5564,.5664,.5495,.5748,.5578],createMenu:function(a,b,c){document.body.style.cursor="wait";var d;a&&"object"==typeof a&&void 0!==a.clientX&&void 0!==a.clientY&&(d={clientX:a.clientX,clientY:a.clientY});return JSROOT.require(["menu"]).then(function(){document.body.style.cursor="auto";return m.createMenu(d,b,c)})},closeMenu:function(a){JSROOT.require(["menu"]).then(function(){m.closeMenu(a)})},isPromise:function(a){return a&&"object"==typeof a&&"function"==typeof a.then},readStyleFromURL:function(a){a=
JSROOT.decodeUrl(a);var b=JSROOT.gStyle,c=JSROOT.settings;if(a.has("optimize")){c.OptimizeDraw=2;var d=a.get("optimize");d&&(d=parseInt(d),Number.isInteger(d)&&(c.OptimizeDraw=d))}d=a.get("interactive");if("nomenu"===d)c.ContextMenu=!1;else if(void 0!==d){d&&"1"!=d?"0"==d&&(d="000000"):d="111111";if(6===d.length){switch(d[0]){case "0":b.ToolBar=!1;break;case "1":b.ToolBar="popup";break;case "2":b.ToolBar=!0}d=d.substr(1)}5==d.length&&(c.Tooltip=parseInt(d[0]),c.ContextMenu="0"!=d[1],c.Zooming="0"!=
d[2],c.MoveResize="0"!=d[3],c.DragAndDrop="0"!=d[4])}d=a.get("tooltip");"off"==d||"false"==d||"0"==d?c.Tooltip=!1:a.has("tooltip")&&(c.Tooltip=!0);d=a.get("mathjax",null);var f=a.get("latex",null);null!==d&&"0"!=d&&null===f&&(f="math");null!==f&&(c.Latex=JSROOT.constants.Latex.fromString(f));a.has("nomenu")&&(c.ContextMenu=!1);a.has("noprogress")&&(c.ProgressBox=!1);a.has("notouch")&&(JSROOT.browser.touches=!1);a.has("adjframe")&&(c.CanAdjustFrame=!0);if(d=a.get("optstat"))b.fOptStat=parseInt(d);
if(d=a.get("optfit"))b.fOptFit=parseInt(d);b.fStatFormat=a.get("statfmt",b.fStatFormat);b.fFitFormat=a.get("fitfmt",b.fFitFormat);a.has("toolbar")&&(b=a.get("toolbar",""),d=null,0<=b.indexOf("popup")&&(d="popup"),0<=b.indexOf("left")&&(c.ToolBarSide="left",d="popup"),0<=b.indexOf("right")&&(c.ToolBarSide="right",d="popup"),0<=b.indexOf("vert")&&(c.ToolBarVert=!0,d="popup"),0<=b.indexOf("show")&&(d=!0),c.ToolBar=d||0>b.indexOf("0")&&0>b.indexOf("false")&&0>b.indexOf("off"));if(a.has("skipsi")||a.has("skipstreamerinfos"))c.SkipStreamerInfos=
!0;a.has("palette")&&(b=parseInt(a.get("palette")),Number.isInteger(b)&&0<b&&113>b&&(c.Palette=b));if(b=a.get("render3d"))JSROOT.settings.Render3D=JSROOT.constants.Render3D.fromString(b);if(b=a.get("embed3d"))JSROOT.settings.Embed3D=JSROOT.constants.Embed3D.fromString(b);if(b=a.get("geosegm"))c.GeoGradPerSegm=Math.max(2,parseInt(b));if(b=a.get("geocomp"))c.GeoCompressComp="0"!==b&&"false"!==b&&"off"!==b;a.has("hlimit")&&(c.HierarchyLimit=parseInt(a.get("hlimit")))},createRootColors:function(){var a=
"white black red green blue yellow magenta cyan rgb(89,212,84) rgb(89,84,217) white".split(" ");a[110]="white";[{n:11,s:"c1b7ad4d4d4d6666668080809a9a9ab3b3b3cdcdcde6e6e6f3f3f3cdc8accdc8acc3c0a9bbb6a4b3a697b8a49cae9a8d9c8f83886657b1cfc885c3a48aa9a1839f8daebdc87b8f9a768a926983976e7b857d9ad280809caca6c0d4cf88dfbb88bd9f83c89a7dc08378cf5f61ac8f94a6787b946971d45a549300ff7b00ff6300ff4b00ff3300ff1b00ff0300ff0014ff002cff0044ff005cff0074ff008cff00a4ff00bcff00d4ff00ecff00fffd00ffe500ffcd00ffb500ff9d00ff8500ff6d00ff5500ff3d00ff2600ff0e0aff0022ff003aff0052ff006aff0082ff009aff00b1ff00c9ff00e1ff00f9ff00ffef00ffd700ffbf00ffa700ff8f00ff7700ff6000ff4800ff3000ff1800ff0000"},
{n:201,s:"5c5c5c7b7b7bb8b8b8d7d7d78a0f0fb81414ec4848f176760f8a0f14b81448ec4876f1760f0f8a1414b84848ec7676f18a8a0fb8b814ecec48f1f1768a0f8ab814b8ec48ecf176f10f8a8a14b8b848ecec76f1f1"},{n:390,s:"ffffcdffff9acdcd9affff66cdcd669a9a66ffff33cdcd339a9a33666633ffff00cdcd009a9a00666600333300"},{n:406,s:"cdffcd9aff9a9acd9a66ff6666cd66669a6633ff3333cd33339a3333663300ff0000cd00009a00006600003300"},{n:422,s:"cdffff9affff9acdcd66ffff66cdcd669a9a33ffff33cdcd339a9a33666600ffff00cdcd009a9a006666003333"},{n:590,s:"cdcdff9a9aff9a9acd6666ff6666cd66669a3333ff3333cd33339a3333660000ff0000cd00009a000066000033"},
{n:606,s:"ffcdffff9affcd9acdff66ffcd66cd9a669aff33ffcd33cd9a339a663366ff00ffcd00cd9a009a660066330033"},{n:622,s:"ffcdcdff9a9acd9a9aff6666cd66669a6666ff3333cd33339a3333663333ff0000cd00009a0000660000330000"},{n:791,s:"ffcd9acd9a669a66339a6600cd9a33ffcd66ff9a00ffcd33cd9a00ffcd00ff9a33cd66006633009a3300cd6633ff9a66ff6600ff6633cd3300ff33009aff3366cd00336600339a0066cd339aff6666ff0066ff3333cd0033ff00cdff9a9acd66669a33669a009acd33cdff669aff00cdff339acd00cdff009affcd66cd9a339a66009a6633cd9a66ffcd00ff6633ffcd00cd9a00ffcd33ff9a00cd66006633009a3333cd6666ff9a00ff9a33ff6600cd3300ff339acdff669acd33669a00339a3366cd669aff0066ff3366ff0033cd0033ff339aff0066cd00336600669a339acd66cdff009aff33cdff009acd00cdffcd9aff9a66cd66339a66009a9a33cdcd66ff9a00ffcd33ff9a00cdcd00ff9a33ff6600cd33006633009a6633cd9a66ff6600ff6633ff3300cd3300ffff339acd00666600339a0033cd3366ff669aff0066ff3366cd0033ff0033ff9acdcd669a9a33669a0066cd339aff66cdff009acd009aff33cdff009a"},
{n:920,s:"cdcdcd9a9a9a666666333333"}].forEach(function(b){for(var c=b.s,d=0;d<c.length;d+=6)a[b.n+d/6]="rgb("+parseInt("0x"+c.substr(d,2))+","+parseInt("0x"+c.substr(d+2,2))+","+parseInt("0x"+c.substr(d+4,2))+")"});m.root_colors=a},getRGBfromTColor:function(a){if(!a||"TColor"!=a._typename)return null;var b=Math.round(255*a.fRed)+","+Math.round(255*a.fGreen)+","+Math.round(255*a.fBlue);b=void 0===a.fAlpha||1==a.fAlpha?"rgb("+b+")":"rgba("+b+","+a.fAlpha.toFixed(3)+")";switch(b){case "rgb(255,255,255)":return"white";
case "rgb(0,0,0)":return"black";case "rgb(255,0,0)":return"red";case "rgb(0,255,0)":return"green";case "rgb(0,0,255)":return"blue";case "rgb(255,255,0)":return"yellow";case "rgb(255,0,255)":return"magenta";case "rgb(0,255,255)":return"cyan"}return b},extendRootColors:function(a,b){if(!a){a=[];for(var c=0;c<m.root_colors.length;++c)a[c]=m.root_colors[c]}if(!b)return a;c=b;if(b._typename&&b.arr){c=[];for(var d=0;d<b.arr.length;++d){var f=b.arr[d];f&&"TColor"==f._typename&&0<=f.fNumber&&1E4>=f.fNumber&&
(c[f.fNumber]=m.getRGBfromTColor(f))}}for(b=0;b<c.length;++b)c[b]&&a[b]!=c[b]&&(a[b]=c[b]);return a},adoptRootColors:function(a){m.extendRootColors(m.root_colors,a)},getColor:function(a){return m.root_colors[a]},addColor:function(a,b){b||(b=m.root_colors);var c=b.indexOf(a);if(0<=c)return c;b.push(a);return b.length-1}};u.prototype.calcColorIndex=function(a,b){var c=this.palette.length;a=Math.floor((a+.99)*c/(b-1));return a>c-1?c-1:a};u.prototype.getColor=function(a){return this.palette[a]};u.prototype.getLength=
function(){return this.palette.length};u.prototype.calcColor=function(a,b){return this.getColor(this.calcColorIndex(a,b))};r.prototype.setArgs=function(a){"object"==typeof a&&"number"==typeof a.fMarkerStyle&&(a={attr:a});if(a.attr){void 0===a.color&&(a.color=a.painter?a.painter.getColor(a.attr.fMarkerColor):m.getColor(a.attr.fMarkerColor));if(!a.style||0>a.style)a.style=a.attr.fMarkerStyle;a.size||(a.size=a.attr.fMarkerSize)}this.color=a.color;this.style=a.style;this.size=a.size;this.refsize=a.refsize;
this._configure()};r.prototype.resetPos=function(){this.lastx=this.lasty=null};r.prototype.create=function(a,b){if(!this.optimized)return"M"+(a+this.x0).toFixed(this.ndig)+","+(b+this.y0).toFixed(this.ndig)+this.marker;a=Math.round(a);b=Math.round(b);var c="M"+a+","+b;if(null!==this.lastx)if(a==this.lastx&&b==this.lasty)c="";else{var d="m"+(a-this.lastx)+","+(b-this.lasty);d.length<c.length&&(c=d)}this.lastx=a+1;this.lasty=b;return c+"h1"};r.prototype.getFullSize=function(){return this.scale*this.size};
r.prototype.getMarkerLength=function(){return this.marker?this.marker.length:10};r.prototype.change=function(a,b,c){this.changed=!0;void 0!==a&&(this.color=a);void 0!==b&&0<=b&&(this.style=b);void 0!==c&&(this.size=c);this._configure()};r.prototype._configure=function(){this.x0=this.y0=0;if(1===this.style||777===this.style)return this.fill=!1,this.marker="h1",this.size=1,this.optimized=!0,this.resetPos(),!0;this.optimized=!1;var a=m.root_markers[this.style];void 0===a&&(a=104);var b=a%100;this.fill=
100<=a;this.scale=this.refsize||8;var c=this.getFullSize();this.ndig=7<c?0:2<c?1:2;30==b&&this.ndig++;a=c.toFixed(this.ndig);var d=(c/2).toFixed(this.ndig),f=(c/3).toFixed(this.ndig),h=(c/4).toFixed(this.ndig),k=(c/8).toFixed(this.ndig),e=(3*c/8).toFixed(this.ndig);switch(b){case 1:this.marker="h1";break;case 2:this.y0=-c/2;this.marker="v"+a+"m-"+d+",-"+d+"h"+a;break;case 3:this.x0=this.y0=-c/2;this.marker="l"+a+","+a+"m0,-"+a+"l-"+a+","+a+"m0,-"+d+"h"+a+"m-"+d+",-"+d+"v"+a;break;case 4:this.x0=-parseFloat(d);
a=(2*parseFloat(d)).toFixed(this.ndig);this.marker="a"+d+","+d+",0,1,0,"+a+",0a"+d+","+d+",0,1,0,-"+a+",0z";break;case 5:this.x0=this.y0=-c/2;this.marker="l"+a+","+a+"m0,-"+a+"l-"+a+","+a;break;case 6:this.x0=-1;this.marker="a1,1,0,1,0,2,0a1,1,0,1,0,-2,0z";break;case 7:this.x0=-1.5;this.marker="a1.5,1.5,0,1,0,3,0a1.5,1.5,0,1,0,-3,0z";break;case 25:this.x0=this.y0=-c/2;this.marker="v"+a+"h"+a+"v-"+a+"z";break;case 26:this.y0=-c/2;this.marker="l-"+d+","+a+"h"+a+"z";break;case 27:this.y0=-c/2;this.marker=
"l"+f+","+d+"l-"+f+","+d+"l-"+f+",-"+d+"z";break;case 28:this.x0=this.y0=c/6;this.marker="h"+f+"v-"+f+"h-"+f+"v-"+f+"h-"+f+"v"+f+"h-"+f+"v"+f+"h"+f+"v"+f+"h"+f+"z";break;case 30:this.y0=-c/2;b=(5*c/6).toFixed(this.ndig);c=(5*c/8).toFixed(this.ndig);this.marker="l"+f+","+a+"l-"+b+",-"+c+"h"+a+"l-"+b+","+c+"z";break;case 32:this.y0=c/2;this.marker="l-"+d+",-"+a+"h"+a+"z";break;case 35:this.x0=-c/2;this.marker="l"+d+","+d+"l"+d+",-"+d+"l-"+d+",-"+d+"zh"+a+"m-"+d+",-"+d+"v"+a;break;case 36:this.x0=this.y0=
-c/2;this.marker="h"+a+"v"+a+"h-"+a+"zl"+a+","+a+"m0,-"+a+"l-"+a+","+a;break;case 37:this.x0=-c/2;this.marker="h"+a+"l-"+h+",-"+d+"l-"+d+","+a+"h"+d+"l-"+d+",-"+a+"z";break;case 38:this.x0=-c/4;this.y0=-c/2;this.marker="h"+d+"l"+h+","+h+"v"+d+"l-"+h+","+h+"h-"+d+"l-"+h+",-"+h+"v-"+d+"zm"+h+",0v"+a+"m-"+d+",-"+d+"h"+a;break;case 40:this.x0=-c/4;this.y0=-c/2;this.marker="l"+d+","+a+"l"+h+",-"+h+"l-"+a+",-"+d+"zm"+d+",0l-"+d+","+a+"l-"+h+",-"+h+"l"+a+",-"+d+"z";break;case 42:this.y0=-c/2;this.marker=
"l"+k+","+e+"l"+e+","+k+"l-"+e+","+k+"l-"+k+","+e+"l-"+k+",-"+e+"l-"+e+",-"+k+"l"+e+",-"+k+"z";break;case 44:this.x0=-c/4;this.y0=-c/2;this.marker="h"+d+"l-"+k+","+e+"l"+e+",-"+k+"v"+d+"l-"+e+",-"+k+"l"+k+","+e+"h-"+d+"l"+k+",-"+e+"l-"+e+","+k+"v-"+d+"l"+e+","+k+"z";break;case 46:this.x0=-c/4;this.y0=-c/2;this.marker="l"+h+","+h+"l"+h+",-"+h+"l"+h+","+h+"l-"+h+","+h+"l"+h+","+h+"l-"+h+","+h+"l-"+h+",-"+h+"l-"+h+","+h+"l-"+h+",-"+h+"l"+h+",-"+h+"l-"+h+",-"+h+"z";break;case 48:this.x0=-c/4;this.y0=
-c/2;this.marker="l"+h+","+h+"l-"+h+","+h+"l-"+h+",-"+h+"zm"+d+",0l"+h+","+h+"l-"+h+","+h+"l-"+h+",-"+h+"zm0,"+d+"l"+h+","+h+"l-"+h+","+h+"l-"+h+",-"+h+"zm-"+d+",0l"+h+","+h+"l-"+h+","+h+"l-"+h+",-"+h+"z";break;case 49:this.x0=-c/6;this.y0=-c/2;this.marker="h"+f+"v"+f+"h-"+f+"zm"+f+","+f+"h"+f+"v"+f+"h-"+f+"zm-"+f+","+f+"h"+f+"v"+f+"h-"+f+"zm-"+f+",-"+f+"h"+f+"v"+f+"h-"+f+"z";break;default:this.y0=-c/2,this.marker="l"+f+","+d+"l-"+f+","+d+"l-"+f+",-"+d+"z"}return!0};r.prototype.getStrokeColor=function(){return this.stroke?
this.color:"none"};r.prototype.getFillColor=function(){return this.fill?this.color:"none"};r.prototype.empty=function(){return"none"===this.color||!this.fill&&!this.stroke};r.prototype.apply=function(a){a.style("stroke",this.stroke?this.color:"none");a.style("fill",this.fill?this.color:"none")};r.prototype.verifyDirectChange=function(){this.change(this.color,parseInt(this.style),parseFloat(this.size))};r.prototype.createSample=function(a,b,c){this.resetPos();a.append("path").attr("d",this.create(b/
2,c/2)).call(this.func)};p.prototype.setArgs=function(a){a.attr?(a.color=a.color0||(a.painter?a.painter.getColor(a.attr.fLineColor):m.getColor(a.attr.fLineColor)),void 0===a.width&&(a.width=a.attr.fLineWidth),a.style=a.attr.fLineStyle):"string"==typeof a.color?"none"===a.color||a.width||(a.width=1):"number"==typeof a.color&&(a.color=a.painter?a.painter.getColor(a.color):m.getColor(a.color));void 0===a.width&&(a.width=a.color&&"none"!=a.color?1:0);this.color=0===a.width?"none":a.color;this.width=a.width;
this.style=a.style;this.pattern=a.pattern||m.root_line_styles[this.style]||null;a.can_excl&&(this.excl_side=this.excl_width=0,99<Math.abs(this.width)&&(this.excl_side=0>this.width?-1:1,this.excl_width=5*Math.floor(this.width/100),this.width=Math.abs(this.width%100)));!this.color&&0<this.width&&(this.color="lightgrey")};p.prototype.changeExcl=function(a,b){void 0!==b&&(this.excl_width=b);void 0!==a&&(this.excl_side=a,0===this.excl_width&&0!==this.excl_side&&(this.excl_width=20));this.changed=!0};p.prototype.empty=
function(){return"none"==this.color};p.prototype.setBorder=function(a,b){this.rx=a;this.ry=b;this.func=this.applyBorder.bind(this)};p.prototype.apply=function(a){this.used=!0;this.empty()?a.style("stroke",null).style("stroke-width",null).style("stroke-dasharray",null):a.style("stroke",this.color).style("stroke-width",this.width).style("stroke-dasharray",this.pattern)};p.prototype.applyBorder=function(a){this.used=!0;this.empty()?a.style("stroke",null).style("stroke-width",null).style("stroke-dasharray",
null).attr("rx",null).attr("ry",null):a.style("stroke",this.color).style("stroke-width",this.width).style("stroke-dasharray",this.pattern).attr("rx",this.rx||null).attr("ry",this.ry||null)};p.prototype.change=function(a,b,c){void 0!==a&&(this.color=a);void 0!==b&&(this.width=b);void 0!==c&&(this.style=c,this.pattern=m.root_line_styles[this.style]||null);this.changed=!0};p.prototype.createSample=function(a,b,c){a.append("path").attr("d","M0,"+c/2+"h"+b).call(this.func)};w.prototype.setArgs=function(a){a.attr&&
"object"==typeof a.attr&&(void 0===a.pattern&&void 0!==a.attr.fFillStyle&&(a.pattern=a.attr.fFillStyle),void 0===a.color&&void 0!==a.attr.fFillColor&&(a.color=a.attr.fFillColor));var b=this.changed;this.change(a.color,a.pattern,a.svg,a.color_as_svg,a.painter);this.changed=b};w.prototype.apply=function(a){this.used=!0;a.style("fill",this.getFillColor());"opacity"in this&&a.style("opacity",this.opacity);"antialias"in this&&a.style("antialias",this.antialias)};w.prototype.getFillColor=function(){return this.pattern_url||
this.color};w.prototype.getFillColorAlt=function(a){return this.color&&"none"!=this.color?this.color:a};w.prototype.empty=function(){var a=this.getFillColor();return!a||"none"==a};w.prototype.hasColor=function(){return this.color&&"none"!=this.color};w.prototype.setSolidColor=function(a){delete this.pattern_url;this.color=a;this.pattern=1001};w.prototype.isSolid=function(a){return 1001!==this.pattern?!1:!a||a==this.color};w.prototype.verifyDirectChange=function(a){"string"==typeof this.pattern&&(this.pattern=
parseInt(this.pattern));Number.isInteger(this.pattern)||(this.pattern=0);this.change(this.color,this.pattern,a?a.getCanvSvg():null,!0,a)};w.prototype.change=function(a,b,c,d,f){delete this.pattern_url;this.changed=!0;void 0!==a&&Number.isInteger(parseInt(a))&&!d&&(this.colorindx=parseInt(a));void 0!==b&&Number.isInteger(parseInt(b))&&(this.pattern=parseInt(b),delete this.opacity,delete this.antialias);if(1E3==this.pattern&&0===this.colorindx)return this.pattern_url="white",!0;1E3==this.pattern&&(this.pattern=
1001);if(1001>this.pattern||this.isSolid()&&0===this.colorindx&&1===this.kind&&!d)return this.pattern_url="none",!0;b=this.colorindx;d?(this.color=a,"none"!=a&&(b=e.color(a).hex().substr(1))):this.color=f?f.getColor(b):m.getColor(b);"string"!=typeof this.color&&(this.color="none");if(this.isSolid())return!0;if(4E3<=this.pattern&&4100>=this.pattern)return this.opacity=(this.pattern-4E3)/100,!0;if(!c||c.empty()||3E3>this.pattern||"none"==this.color)return!1;f="pat_"+this.pattern+"_"+b;b=c.select(".canvas_defs");
b.empty()&&(b=c.insert("svg:defs",":first-child").attr("class","canvas_defs"));this.pattern_url="url(#"+f+")";this.antialias=!1;if(!b.select("."+f).empty())return!0;var h="";c=null;d=a="";var k=2,l=2;switch(this.pattern){case 3001:k=l=2;a="M0,0h1v1h-1zM1,1h1v1h-1z";break;case 3002:k=4;l=2;a="M1,0h1v1h-1zM3,1h1v1h-1z";break;case 3003:k=l=4;a="M2,1h1v1h-1zM0,3h1v1h-1z";break;case 3004:k=l=8;h="M8,0L0,8";break;case 3005:k=l=8;h="M0,0L8,8";break;case 3006:k=l=4;h="M1,0v4";break;case 3007:k=l=4;h="M0,1h4";
break;case 3008:k=l=10;a="M0,3v-3h3ZM7,0h3v3ZM0,7v3h3ZM7,10h3v-3ZM5,2l3,3l-3,3l-3,-3Z";h="M0,3l5,5M3,10l5,-5M10,7l-5,-5M7,0l-5,5";break;case 3009:l=k=12;h="M0,0A6,6,0,0,0,12,0M6,6A6,6,0,0,0,12,12M6,6A6,6,0,0,1,0,12";c="none";break;case 3010:k=l=10;h="M0,2h10M0,7h10M2,0v2M7,2v5M2,7v3";break;case 3011:k=9;l=18;h="M5,0v8M2,1l6,6M8,1l-6,6M9,9v8M6,10l3,3l-3,3M0,9v8M3,10l-3,3l3,3";c="none";break;case 3012:k=10;l=20;h="M5,1A4,4,0,0,0,5,9A4,4,0,0,0,5,1M0,11A4,4,0,0,1,0,19M10,11A4,4,0,0,0,10,19";c="none";
break;case 3013:k=l=7;h="M0,0L7,7M7,0L0,7";c="none";break;case 3014:k=l=16;h="M0,0h16v16h-16v-16M0,12h16M12,0v16M4,0v8M4,4h8M0,8h8M8,4v8";c="none";break;case 3015:k=6;l=12;h="M2,1A2,2,0,0,0,2,5A2,2,0,0,0,2,1M0,7A2,2,0,0,1,0,11M6,7A2,2,0,0,0,6,11";c="none";break;case 3016:k=12;l=7;h="M0,1A3,2,0,0,1,3,3A3,2,0,0,0,9,3A3,2,0,0,1,12,1";c="none";break;case 3017:k=l=4;h="M3,1l-2,2";break;case 3018:k=l=4;h="M1,1l2,2";break;case 3019:k=l=12;h="M1,6A5,5,0,0,0,11,6A5,5,0,0,0,1,6h-1h1A5,5,0,0,1,6,11v1v-1A5,5,0,0,1,11,6h1h-1A5,5,0,0,1,6,1v-1v1A5,5,0,0,1,1,6";
c="none";break;case 3020:k=7;l=12;h="M1,0A2,3,0,0,0,3,3A2,3,0,0,1,3,9A2,3,0,0,0,1,12";c="none";break;case 3021:k=l=8;h="M8,2h-2v4h-4v2M2,0v2h-2";c="none";break;case 3022:k=l=8;h="M0,2h2v4h4v2M6,0v2h2";c="none";break;case 3023:k=l=8;a="M4,0h4v4zM8,4v4h-4z";d="M4,0L0,4L4,8L8,4Z";break;case 3024:k=l=16;a="M0,8v8h2v-8zM8,0v8h2v-8M4,14v2h12v-2z";d="M0,2h8v6h4v-6h4v12h-12v-6h-4z";break;case 3025:k=l=18;a="M5,13v-8h8ZM18,0v18h-18l5,-5h8v-8Z";break;default:if(3025<this.pattern&&3100>this.pattern)k=4,l=2,
a="M1,0h1v1h-1zM3,1h1v1h-1z";else{var g=this.pattern%1E3,n=g%10,C=(g-n)%100/10;if(g=(g-10*C-n)/100){var p=12*g,q,r,v,u,t,x,w;k=l=6*p;g=function(a,b){q=[];r=p;t=0;w=l;3>Math.abs(a)&&(r=Math.round(p/12*9));0==a?(r=Math.round(p/12*8),t=r/2):0<a?w-=r:t=r;for(;t<=w;)x=t+a*r,0>x?(u=Math.round(t/(t-x)*k),q.push(0,t,u,0),q.push(k,l-t,k-u,l)):x>l?(u=Math.round((l-t)/(x-t)*k),q.push(0,t,u,l),q.push(k,l-t,k-u,0)):q.push(0,t,k,x),t+=r;for(a=0;a<q.length;a+=4)b?(v=q[a+1],t=q[a],u=q[a+3],x=q[a+2]):(v=q[a],t=q[a+
1],u=q[a+2],x=q[a+3]),h+="M"+v+","+t,h=x==t?h+("h"+(u-v)):u==v?h+("v"+(x-t)):h+("L"+u+","+x)};switch(C){case 0:g(0);break;case 1:g(1);break;case 2:g(2);break;case 3:g(3);break;case 4:g(6);break;case 6:g(3,!0);break;case 7:g(2,!0);break;case 8:g(1,!0);break;case 9:g(0,!0)}switch(n){case 0:C&&g(0);break;case 1:g(-1);break;case 2:g(-2);break;case 3:g(-3);break;case 4:g(-6);break;case 6:g(-3,!0);break;case 7:g(-2,!0);break;case 8:g(-1,!0);break;case 9:9!=C&&g(0,!0)}}}}if(!a&&!h)return!1;f=b.append("svg:pattern").attr("id",
f).attr("class",f).attr("patternUnits","userSpaceOnUse").attr("width",k).attr("height",l);d&&(b=e.rgb(this.color),b.r=Math.round((b.r+255)/2),b.g=Math.round((b.g+255)/2),b.b=Math.round((b.b+255)/2),f.append("svg:path").attr("d",d).style("fill",b));a&&f.append("svg:path").attr("d",a).style("fill",this.color);h&&f.append("svg:path").attr("d",h).style("stroke",this.color).style("stroke-width",1).style("fill",c);return!0};w.prototype.createSample=function(a,b,c){var d=new w({svg:a,pattern:this.pattern,
color:this.color,color_as_svg:!0});a.append("path").attr("d","M0,0h"+b+"v"+c+"h-"+b+"z").call(d.func)};v.prototype.setFont=function(a,b){a.attr("font-family",this.name);"without-size"!=b&&a.attr("font-size",this.size).attr("xml:space","preserve");this.weight&&a.attr("font-weight",this.weight);this.style&&a.attr("font-style",this.style)};v.prototype.setSize=function(a){this.size=Math.round(a)};v.prototype.setColor=function(a){this.color=a};v.prototype.setAlign=function(a){this.align=a};v.prototype.setAngle=
function(a){this.angle=a};v.prototype.roundAngle=function(a,b){this.angle=parseInt(this.angle||0);Number.isInteger(this.angle)||(this.angle=0);this.angle=Math.round(this.angle/a)*a+(b||0);0>this.angle?this.angle+=360:360<=this.angle&&(this.angle-=360)};v.prototype.clearFont=function(a){a.attr("font-family",null).attr("font-size",null).attr("xml:space",null).attr("font-weight",null).attr("font-style",null)};v.prototype.isMonospace=function(){var a=this.name.toLowerCase();return 0==a.indexOf("courier")||
"monospace"==a||"monaco"==a};v.prototype.getFontHtml=function(){var a=Math.round(this.size)+"pt "+this.name;this.weight&&(a+=" "+this.weight);this.style&&(a+=" "+this.style);return a};m.chooseTimeFormat=function(a,b){if(.5>a)return b?"%S.%L":"%H:%M:%S.%L";if(30>a)return b?"%Mm%S":"%H:%M:%S";a/=60;if(30>a)return b?"%Hh%M":"%d/%m %H:%M";a/=60;if(12>a)return b?"%d-%Hh":"%d/%m/%y %Hh";a/=24;if(15.218425>a)return b?"%d/%m":"%d/%m/%y";a/=30.43685;return 6>a?"%d/%m/%y":2>a/12?b?"%m/%y":"%d/%m/%y":"%Y"};
m.getTimeFormat=function(a){var b=a.fTimeFormat.indexOf("%F");return 0<=b?a.fTimeFormat.substr(0,b):a.fTimeFormat};m.getTimeOffset=function(a){function b(a,b,c){a=d.indexOf(a);if(0>a)return b;var f=parseInt(d.substr(0,a));d=d.substr(a+1);return!Number.isInteger(f)||f<b||f>c?b:f}if(!a)return 7889184E5;var c=a.fTimeFormat.indexOf("%F");if(0>c)return 1E3*JSROOT.gStyle.fTimeOffset;var d=a.fTimeFormat.substr(c+2);if(0==d.indexOf("1995-01-01 00:00:00s0"))return 7889184E5;if("0"==d||""==d)return 0;a=b("-",
1970,2300);c=b("-",1,12)-1;var f=b(" ",1,31),h=b(":",0,23),e=b(":",0,59),l=b("s",0,59),g=b(" ",0,999);c=new Date(Date.UTC(a,c,f,h,e,l,g));a=c.getTime();d=d.toUpperCase();0==d.indexOf("GMT")&&(a+=6E4*c.getTimezoneOffset(),d=d.substr(4).trim(),3<d.length&&(c=0,f=1E3,"-"==d[0]&&(c=1,f=-1E3),a-=f*(3600*parseInt(d.substr(c,2))+60*parseInt(d.substr(c+2,2)))));return a};m.buildSvgPath=function(a,b,c,d){var f=0<=a.indexOf("bezier");void 0===d&&(d=f?2:0);void 0===c&&(c=0);var h=function(a,b){return(b.gry-
a.gry)/(b.grx-a.grx)},e=function(a){var b=0;var c=a.length-1;var d=[];var f=a[0];var e=a[1];for(var g=d[0]=h(f,e);++b<c;)f=e,e=a[b+1],d[b]=(g+(g=h(f,e)))/2;d[b]=g;g=-1;for(var k=a.length-1;++g<k;)b=h(a[g],a[g+1]),1E-6>Math.abs(b)?d[g]=d[g+1]=0:(c=d[g]/b,f=d[g+1]/b,e=c*c+f*f,9<e&&(e=3*b/Math.sqrt(e),d[g]=e*c,d[g+1]=e*f));for(g=-1;++g<=k;)e=(a[Math.min(k,g+1)].grx-a[Math.max(0,g-1)].grx)/(6*(1+d[g]*d[g])),a[g].dgrx=e||0,a[g].dgry=d[g]*e||0},l={path:"",close:""},g=b[0],m=Math.max(g.gry,c+5),p=Math.round(g.grx),
n=Math.round(g.gry),q=b.length,r=function(a){var b=Math.round(a);if(0==d||b===a)return b.toString();for(a=a.toFixed(d);"0"==a[a.length-1]&&a.lastIndexOf(".")<a.length-1;)a=a.substr(0,a.length-1);"."==a[a.length-1]&&(a=a.substr(0,a.length-1));"-0"==a&&(a="0");return a};l.path=("L"==a[0]?"L":"M")+r(g.grx)+","+r(g.gry);(f||0<=a.indexOf("calc"))&&e(b);if(f)for(l.path+="C"+r(g.grx+g.dgrx)+","+r(g.gry+g.dgry)+",",p=1;p<q;++p)n=g,g=b[p],1<p&&(l.path+="S"),l.path+=r(g.grx-g.dgrx)+","+r(g.gry-g.dgry)+","+
r(g.grx)+","+r(g.gry),m=Math.max(m,n.gry);else if(1E4>q){var u=0,v=0;f=function(){u&&(l.path+="h"+u,u=0);v&&(l.path+="v"+v,v=0)};for(e=1;e<q;++e){g=b[e];a=Math.round(g.grx)-p;var t=Math.round(g.gry)-n;a&&t?(f(),l.path+="l"+a+","+t):!a&&t?(0!==v&&0>t===0>v||f(),v+=t):a&&!t&&(0!==u&&0>a===0>u||f(),u+=a);p+=a;n+=t;m=Math.max(m,n)}f()}else{for(var x=t=n,w=n,y=1;y<q;++y)g=b[y],f=Math.round(g.grx),e=Math.round(g.gry),m=Math.max(m,e),a=f-p,0===a?(t=Math.min(t,e),x=Math.max(x,e),w=e):(t!==x&&(t!=n&&(l.path+=
"v"+(t-n)),l.path+="v"+(x-t),x!=w&&(l.path+="v"+(w-x)),n=w),t=e-n,l.path=t?l.path+("l"+a+","+t):l.path+("h"+a),p=f,w=t=x=n=e);t!=x&&(t!=n&&(l.path+="v"+(t-n)),l.path+="v"+(x-t),x!=w&&(l.path+="v"+(w-x)))}0<c&&(l.close="L"+r(g.grx)+","+r(m)+"h"+r(b[0].grx-g.grx)+"Z");return l};m.getElementRect=function(a,b){if(JSROOT.nodejs&&"bbox"!=b)return{x:0,y:0,width:parseInt(a.attr("width")),height:parseInt(a.attr("height"))};var c=function(b){b=a.style(b);if(!b||"string"!==typeof b)return 0;b=parseFloat(b.replace("px",
""));return Number.isFinite(b)?Math.round(b):0},d=a.node().getBoundingClientRect();"bbox"==b&&0<parseFloat(d.width)&&(d=a.node().getBBox());var f={x:0,y:0,width:parseInt(d.width),height:parseInt(d.height)};void 0!==d.left?(f.x=parseInt(d.left),f.y=parseInt(d.top)):void 0!==d.x&&(f.x=parseInt(d.x),f.y=parseInt(d.y));if(void 0===b||"nopadding"==b)f.width-=c("padding-left")+c("padding-right"),f.height-=c("padding-top")+c("padding-bottom");return f};m.getAbsPosInCanvas=function(a,b){for(;!a.empty()&&
!a.classed("root_canvas")&&b;){var c=a.attr("class");c&&(0<=c.indexOf("root_frame")||0<=c.indexOf("__root_pad_"))&&(b.x+=a.property("draw_x")||0,b.y+=a.property("draw_y")||0);a=e.select(a.node().parentNode)}return b};n.prototype.setDom=function(a){void 0!==a&&(this.divid=a,delete this._selected_main)};n.prototype.getDom=function(){return this.divid};n.prototype.selectDom=function(a){if(!this.divid)return e.select(null);var b=this._selected_main;b||("string"==typeof this.divid?(b=this.divid,"#"!=b[0]&&
(b="#"+b),b=e.select(b),b.empty()||(this.divid=b.node())):b=e.select(this.divid),this._selected_main=b);if(!b||b.empty()||"origin"===a)return b;var c=b.property("use_enlarge"),d="simple"==(b.property("layout")||"simple")?"":b.property("layout_selector");d&&(b=b.select(d));a||b.empty()||!c||(b=e.select("#jsroot_enlarge_div"));return b};n.prototype.setTopPainter=function(){B(this,!0)};n.prototype.getTopPainter=function(){return B(this)};n.prototype.clearTopPainter=function(){B(this,!1)};n.prototype.cleanup=
function(a){this.clearTopPainter();var b=this.selectDom("origin");b.empty()||a||b.html("");this.divid=null;delete this._selected_main;this._hpainter&&"function"===typeof this._hpainter.removePainter&&this._hpainter.removePainter(this);delete this._hitemname;delete this._hdrawopt;delete this._hpainter};n.prototype.checkResize=function(){};n.prototype.testMainResize=function(a,b,c){var d=this.enlargeMain("state"),f=this.selectDom("origin"),h=this.selectDom();"on"!==d&&b&&b.width&&b.height&&f.style("width",
b.width+"px").style("height",b.height+"px");b=m.getElementRect(f,!0);var e=f.attr("can_resize"),g=!1;"height"==e&&c&&Math.abs(b.width*c-b.height)>.1*b.width&&(g=!0);(5>=b.height||5>=b.width)&&e&&"false"!==e&&(g=!0);g&&"on"!==d&&(5<b.width?f.style("height",Math.round(b.width*(c||.66))+"px"):"height"!==e&&f.style("width","200px").style("height","100px"));c=m.getElementRect(h);d=h.property("draw_height");h=h.property("draw_width");c.changed=!1;if(d&&h&&0<d&&0<h){if(d!==c.height||h!==c.width)if(1<a||
.66>c.width/h||1.5<c.width/h||.66>c.height/d&&1.5<c.height/d)c.changed=!0}else c.changed=!0;return c};n.prototype.enlargeMain=function(a,b){var c=this.selectDom(!0),d=this.selectDom("origin");if(c.empty()||!JSROOT.settings.CanEnlarge||!1===d.property("can_enlarge"))return!1;if(void 0===a||"verify"===a)return!0;var f=d.property("use_enlarge")?"on":"off";if("state"===a)return f;"toggle"===a&&(a="off"===f);var h=e.select("#jsroot_enlarge_div");if(!0===a&&"on"!==f){if(!h.empty())return!1;h=e.select(document.body).append("div").attr("id",
"jsroot_enlarge_div");a=m.getElementRect(c);f=m.getElementRect(h);if((f.width<=a.width||f.height<=a.height)&&f.width*f.height<a.width*a.height)return b||console.log("Enlarged area "+f.width+"x"+f.height+" smaller then original drawing "+a.width+"x"+a.height),h.remove(),!1;for(;0<c.node().childNodes.length;)h.node().appendChild(c.node().firstChild);d.property("use_enlarge",!0);return!0}if(!1===a&&"off"!==f){for(;h.node()&&0<h.node().childNodes.length;)c.node().appendChild(h.node().firstChild);h.remove();
d.property("use_enlarge",!1);return!0}return!1};n.prototype.setItemName=function(a,b,c){"string"===typeof a?this._hitemname=a:delete this._hitemname;"string"===typeof b&&(this._hdrawopt=b);this._hpainter=c};n.prototype.getItemName=function(){return"_hitemname"in this?this._hitemname:null};n.prototype.getItemDrawOpt=function(){return this._hdrawopt||""};g.prototype=Object.create(n.prototype);g.prototype.assignObject=function(a){a&&"object"==typeof a?this.draw_object=a:delete this.draw_object};g.prototype.setPadName=
function(a){this.pad_name="string"==typeof a?a:this.selectCurrentPad()};g.prototype.getPadName=function(){return this.pad_name||""};g.prototype.assignSnapId=function(a){this.snapid=a};g.prototype.cleanup=function(){this.removeG();var a=!0;if(this.isMainPainter()){var b=this.getPadPainter();b&&!1!==b.normal_canvas||(a=!1)}delete this.pad_name;delete this._main_painter;this.draw_object=null;delete this.snapid;delete this.fillatt;delete this.lineatt;delete this.markeratt;delete this.bins;delete this.root_colors;
delete this.options;delete this.options_store;delete this.rstyle;delete this.csstype;n.prototype.cleanup.call(this,a)};g.prototype.getObject=function(){return this.draw_object};g.prototype.getClassName=function(){var a=this.getObject();return(a?a._typename:"")||""};g.prototype.matchObjectType=function(a){return a&&this.draw_object?"string"===typeof a?this.draw_object._typename===a:a._typename?this.draw_object._typename===a._typename:this.draw_object._typename.match(a):!1};g.prototype.setItemName=
function(a,b,c){n.prototype.setItemName.call(this,a,b,c);this.no_default_title||""==a||(b=this.getCanvSvg(),b.empty()?this.selectDom().attr("title",a):b.select("title").text(a))};g.prototype.storeDrawOpt=function(a){if(this.options){a||(a="");var b=a.indexOf(";;");0<=b&&(a=a.substr(0,b));this.options.original=a;this.options_store=JSROOT.extend({},this.options)}};g.prototype.getDrawOpt=function(){if(!this.options)return"";if("function"==typeof this.options.asString){var a=!1,b=this.getPadPainter();
if(!this.options_store||b&&b._interactively_changed)a=!0;else for(var c in this.options)this.options[c]!==this.options_store[c]&&(a=!0);if(a)return this.options.asString(this.isMainPainter(),b?b.getRootPad():null)}return this.options.original||""};g.prototype.redrawObject=function(a,b){if(!this.updateObject(a,b))return!1;a=document.body.style.cursor;document.body.style.cursor="wait";b=this.redrawPad();document.body.style.cursor=a;return b||!0};g.prototype.updateObject=function(a){if(!this.matchObjectType(a))return!1;
JSROOT.extend(this.getObject(),a);return!0};g.prototype.getObjectHint=function(){var a=this.getItemName(),b=this.getObject();a||(a=b&&b.fName?b.fName:"");a||(a=this.getClassName());20<a.lenght&&(a=a.substr(0,17)+"...");return a};g.prototype.getColor=function(a){var b=this.root_colors;b||(b=this.root_colors=(b=this.getCanvPainter())&&b.root_colors?b.root_colors:m.root_colors);return b[a]};g.prototype.addColor=function(a){var b=this.root_colors;b||(b=this.root_colors=(b=this.getCanvPainter())&&b.root_colors?
b.root_colors:m.root_colors);var c=b.indexOf(a);if(0<=c)return c;b.push(a);return b.length-1};g.prototype.isTooltipAllowed=function(){return(this.getCanvPainter()||this).tooltip_allowed?!0:!1};g.prototype.setTooltipAllowed=function(a){void 0===a&&(a=!0);var b=this.getCanvPainter()||this;b.tooltip_allowed="toggle"==a?!b.tooltip_allowed:a};g.prototype.checkResize=function(a){var b=this.getCanvPainter();if(!b)return!1;b.checkCanvasResize(a);return!0};g.prototype.removeG=function(){this.draw_g&&(this.draw_g.remove(),
delete this.draw_g)};g.prototype.getG=function(){return this.draw_g};g.prototype.createG=function(a){if(a){var b=this.getFrameSvg();if(b.empty())return console.error("Not found frame to create g element inside"),b;"string"!=typeof a&&(a="main_layer");b=b.select("."+a)}else b=this.getLayerSvg("primitives_layer");this.draw_g&&this.draw_g.node().parentNode!==b.node()&&(console.log("g element chanes its layer!!"),this.removeG());this.draw_g?this.draw_g.selectAll("*").remove():(this.draw_g=b.append("svg:g"),
a||b.selectChildren(".most_upper_primitives").raise());this.draw_object&&(this.draw_g.attr("objname",(this.draw_object.fName||"name").replace(/[^\w]/g,"_")),this.draw_g.attr("objtype",(this.draw_object.fName||"name").replace(/[^\w]/g,"_")));this.draw_g.property("in_frame",!!a);return this.draw_g};g.prototype.getCanvSvg=function(){return this.selectDom().select(".root_canvas")};g.prototype.getPadSvg=function(a){void 0===a&&(a=this.pad_name);var b=this.getCanvSvg();if(!a||b.empty())return b;var c=b.property("pad_painter");
if(c&&c.pads_cache&&c.pads_cache[a])return e.select(c.pads_cache[a]);b=b.select(".primitives_layer .__root_pad_"+a);c&&(c.pads_cache||(c.pads_cache={}),c.pads_cache[a]=b.node());return b};g.prototype.getLayerSvg=function(a,b){b=this.getPadSvg(b);if(b.empty())return b;0==a.indexOf("prim#")&&(b=b.select(".primitives_layer"),a=a.substr(5));for(b=b.node().firstChild;b;){var c=e.select(b);if(c.classed(a))return c;b=b.nextSibling}return e.select(null)};g.prototype.selectCurrentPad=function(a){var b=this.getCanvSvg();
if(b.empty())return"";var c=b.property("current_pad");void 0!==a&&b.property("current_pad",a);return c};g.prototype.getPadPainter=function(a){a=this.getPadSvg("string"==typeof a?a:void 0);return a.empty()?null:a.property("pad_painter")};g.prototype.getCanvPainter=function(){var a=this.getCanvSvg();return a.empty()?null:a.property("pad_painter")};g.prototype.getAxisToSvgFunc=function(a,b){var c={isndc:a,nornd:b},d=this.draw_g&&this.draw_g.property("in_frame");d&&(c.main=this.getFramePainter());c.main&&
c.main.grx&&c.main.gry?b?(c.x=function(a){return this.main.grx(a)},c.y=function(a){return this.main.gry(a)}):(c.x=function(a){return Math.round(this.main.grx(a))},c.y=function(a){return Math.round(this.main.gry(a))}):d?(console.error("Problem to create functor for",this.getClassName()),c.x=function(){return 0},c.y=function(){return 0}):(b=this.getPadPainter(),!a&&b&&(c.pad=b.getRootPad(!0)),c.padw=b?b.getPadWidth():10,c.x=function(a){this.pad&&(this.pad.fLogx&&(a=0<a?Math.log10(a):this.pad.fUxmin),
a=(a-this.pad.fX1)/(this.pad.fX2-this.pad.fX1));a*=this.padw;return this.nornd?a:Math.round(a)},c.padh=b?b.getPadHeight():10,c.y=function(a){this.pad&&(this.pad.fLogy&&(a=0<a?Math.log10(a):this.pad.fUymin),a=(a-this.pad.fY1)/(this.pad.fY2-this.pad.fY1));a=(1-a)*this.padh;return this.nornd?a:Math.round(a)});return c};g.prototype.axisToSvg=function(a,b,c,d){return this.getAxisToSvgFunc(c,d)[a](b)};g.prototype.svgToAxis=function(a,b,c){if(this.draw_g&&this.draw_g.property("in_frame"))return(c=this.getFramePainter())?
c.revertAxis(a,b):0;var d=this.getPadPainter();b="y"==a?1-b/d.getPadHeight():b/d.getPadWidth();if(c=c||!d?null:d.getRootPad(!0))"y"==a?(b=c.fY1+b*(c.fY2-c.fY1),c.fLogy&&(b=Math.pow(10,b))):(b=c.fX1+b*(c.fX2-c.fX1),c.fLogx&&(b=Math.pow(10,b)));return b};g.prototype.getFrameSvg=function(){return this.getLayerSvg("primitives_layer").select(".root_frame")};g.prototype.getFramePainter=function(){var a=this.getPadPainter();return a?a.getFramePainter():null};g.prototype.getMainPainter=function(a){var b=
this._main_painter;b||((b=(b=this.getPadPainter())?b.getMainPainter():this.getTopPainter())||(b=null),a||(this._main_painter=b));return b};g.prototype.isMainPainter=function(){return this===this.getMainPainter()};g.prototype.setAsMainPainter=function(a){var b=this.getPadPainter();b?b.setMainPainter(this,a):this.setTopPainter()};g.prototype.addToPadPrimitives=function(a){void 0!==a&&this.setPadName(a);a=this.getPadPainter(a);if(!a||a===this)return!1;0>a.painters.indexOf(this)&&a.painters.push(this);
!this.rstyle&&a.next_rstyle&&(this.rstyle=a.next_rstyle);return!0};g.prototype.removeFromPadPrimitives=function(){var a=this.getPadPainter();if(!a||a===this)return!1;var b=a.painters.indexOf(this);0<=b&&a.painters.splice(b,1);return!0};g.prototype.createAttMarker=function(a){a&&"object"===typeof a?void 0!==a.fMarkerColor&&void 0!==a.fMarkerStyle&&void 0!==a.fMarkerSize&&(a={attr:a,std:!1}):a={std:!0};void 0===a.std&&(a.std=!0);void 0===a.painter&&(a.painter=this);var b=a.std?this.markeratt:null;b?
b.changed&&!a.force||b.setArgs(a):b=new r(a);a.std&&(this.markeratt=b);return b};g.prototype.createAttLine=function(a){a&&"object"===typeof a?void 0!==a.fLineColor&&void 0!==a.fLineStyle&&void 0!==a.fLineWidth&&(a={attr:a,std:!1}):a={std:!0};void 0===a.std&&(a.std=!0);void 0===a.painter&&(a.painter=this);var b=a.std?this.lineatt:null;b?b.changed&&!a.force||b.setArgs(a):b=new p(a);a.std&&(this.lineatt=b);return b};g.prototype.createAttFill=function(a){a&&"object"===typeof a?a._typename&&void 0!==a.fFillColor&&
void 0!==a.fFillStyle&&(a={attr:a,std:!1}):a={std:!0};void 0===a.std&&(a.std=!0);var b=a.std?this.fillatt:null;a.svg||(a.svg=this.getCanvSvg());void 0===a.painter&&(a.painter=this);b?b.changed&&!a.force||b.setArgs(a):b=new w(a);a.std&&(this.fillatt=b);return b};g.prototype.forEachPainter=function(a,b){var c=this.getPadPainter();c?c.forEachPainterInPad(a,b):(c=this.getTopPainter())&&"pads"!==b&&a(c)};g.prototype.interactiveRedraw=function(a,b,c){var d=this,f,h;"string"==typeof b&&0!=b.indexOf("exec:")&&
(f=b);"pad"==a?h=this.redrawPad(f):!1!==a&&(h=this.redraw(f));m.isPromise(h)||(h=Promise.resolve(!1));return h.then(function(){var a=d.getCanvPainter();a&&"function"==typeof a.producePadEvent&&a.producePadEvent("redraw",d.getPadPainter(),d,null,c);a&&"function"==typeof a.processChanges&&a.processChanges(b,d,c);return d})};g.prototype.redrawPad=function(a){var b=this.getPadPainter();return b?b.redrawPad(a):Promise.resolve(!1)};g.prototype.executeMenuCommand=function(a){return"Inspect"==a.fName?(this.showInspector(),
!0):!1};g.prototype.submitCanvExec=function(a,b){if(a&&"string"==typeof a){var c=this.getCanvPainter();c&&"function"==typeof c.submitExec&&c.submitExec(this,a,b)}};g.prototype.deleteAttr=function(){delete this.lineatt;delete this.fillatt;delete this.markeratt};g.prototype.showInspector=function(a){var b=this.selectDom(),c=m.getElementRect(b),d=Math.round(.05*c.width)+"px";c=Math.round(.05*c.height)+"px";var f="root_inspector_"+JSROOT._.id_counter++;b.append("div").attr("id",f).attr("class","jsroot_inspector").style("position",
"absolute").style("top",c).style("bottom",c).style("left",d).style("right",d);a&&"object"===typeof a&&a._typename||(a=this.getObject());JSROOT.draw(f,a,"inspect")};g.prototype.fillContextMenu=function(a){var b=this.getObjectHint();this.getObject()&&"_typename"in this.getObject()&&(b=this.getObject()._typename+"::"+b);a.add("header:"+b);a.addAttributesMenu(this);0<a.size()&&a.add("Inspect",this.showInspector);return 0<a.size()};g.prototype.showObjectStatus=function(a,b,c,d){var f=this.getCanvPainter();
f&&"function"!==typeof f.showCanvasStatus&&(f=null);if(!f&&"function"!==typeof m.showStatus||"on"===this.enlargeMain("state"))return!1;if(void 0===a&&void 0===b){c=this.getObject();if(!c)return;a=this.getItemName()||c.fName;b=c.fTitle||c._typename;c=c._typename}f?f.showCanvasStatus(a,b,c,d):m.showStatus(a,b,c,d)};g.prototype.redraw=function(){};g.prototype.startTextDrawing=function(a,b,c,d){c||(c=this.draw_g);c&&!c.empty()&&(a="font"===b?a:new v(a,b),b=this.getPadPainter(),c.call(a.func),c.property("draw_text_completed",
!1).property("all_args",[]).property("text_font",a).property("text_factor",0).property("max_text_width",0).property("max_font_size",d).property("_fast_drawing",b?b._fast_drawing:!1),c.property("_fast_drawing")&&c.property("_font_too_small",d&&5>d||4>a.size))};g.prototype.scaleTextDrawing=function(a,b){b||(b=this.draw_g);b&&!b.empty()&&a&&a>b.property("text_factor")&&b.property("text_factor",a)};g.prototype.drawText=function(a){var b=this;a.text||(a.text="");a.draw_g=a.draw_g||this.draw_g;if(a.draw_g&&
!a.draw_g.empty()){var c=a.draw_g.property("text_font");if(a.font=c)c.color&&!a.color&&(a.color=c.color),c.align&&!a.align&&(a.align=c.align),c.angle&&!a.rotate&&(a.rotate=c.angle);var d=["start","middle"];"string"==typeof a.align?(d=a.align.split(";"),1==d.length&&d.push("middle")):"number"==typeof a.align?(3<=a.align/10?d[0]="end":2<=a.align/10&&(d[0]="middle"),0==a.align%10?d[1]="bottom":1==a.align%10?d[1]="bottom-base":3==a.align%10&&(d[1]="top")):a.align&&"object"==typeof a.align&&2==a.align.length&&
(d=a.align);void 0===a.latex&&(a.latex=1);a.align=d;a.x=a.x||0;a.y=a.y||0;a.scale=a.width&&a.height&&!a.font_size;a.width=a.width||0;a.height=a.height||0;if(a.draw_g.property("_fast_drawing"))if(a.scale){if(4>a.height)return 0}else if(a.font_size){if(4>a.font_size)return 0}else if(a.draw_g.property("_font_too_small"))return 0;a.draw_g.property("all_args").push(a);a.ready=!1;d=2==a.latex;1===a.latex&&(d=JSROOT.settings.Latex==JSROOT.constants.Latex.AlwaysMathJax||JSROOT.settings.Latex==JSROOT.constants.Latex.MathJax&&
a.text.match(/[#{\\]/g));if(!d||a.nomathjax){a.txt_node=a.draw_g.append("svg:text");a.color&&a.txt_node.attr("fill",a.color);a.font_size?a.txt_node.attr("font-size",a.font_size):a.font_size=c.size;a.plain=!a.latex||JSROOT.settings.Latex==JSROOT.constants.Latex.Off||JSROOT.settings.Latex==JSROOT.constants.Latex.Symbols;a.simple_latex=a.latex&&JSROOT.settings.Latex==JSROOT.constants.Latex.Symbols;if(!a.plain||a.simple_latex)return JSROOT.require(["latex"]).then(function(c){a.simple_latex||c.isPlainText(a.text)?
(a.simple_latex=!0,c.producePlainText(b,a.txt_node,a)):JSROOT.settings.Latex===JSROOT.constants.Latex.Old?c.produceOldLatex(b,a.txt_node,a):(a.txt_node.remove(),delete a.txt_node,a.txt_g=a.draw_g.append("svg:g"),c.produceLatex(b,a.txt_g,a));a.ready=!0;F(b,a.txt_g||a.txt_node,a);a.draw_g.property("draw_text_completed")&&D(b,a.draw_g)}),0;a.plain=!0;a.txt_node.text(a.text);a.ready=!0;return F(this,a.txt_node,a)}a.mj_node=a.draw_g.append("svg:g").attr("visibility","hidden");JSROOT.require(["latex"]).then(function(c){return c.produceMathjax(b,
a.mj_node,a)}).then(function(){a.ready=!0;a.draw_g.property("draw_text_completed")&&D(b,a.draw_g)});return 0}};g.prototype.finishTextDrawing=function(a){var b=this;a||(a=this.draw_g);if(!a||a.empty())return Promise.resolve(!1);a.property("draw_text_completed",!0);return new Promise(function(c){D(b,a,c)})};g.prototype.configureUserContextMenu=function(a){a&&"function"===typeof a?this._userContextMenuFunc=a:delete this._userContextMenuFunc};g.prototype.fillObjectExecMenu=function(a,b){function c(b){var c=
this.exec_painter||this,d=c.getCanvPainter(),f=c.args_menu_items[parseInt(b)];if(f&&f.fName)if("Show:Editor"==f.fExec)d&&"function"==typeof d.activateGed&&d.activateGed(c);else if(!(d&&"function"==typeof d.executeObjectMethod&&d.executeObjectMethod(c,f,c.args_menu_id)||c.executeMenuCommand(f))&&c.args_menu_id){if(!f.fArgs)return c.submitCanvExec(f.fExec,c.args_menu_id);f.fClassName=c.getClassName();if(0<c.args_menu_id.indexOf("#x")||0<c.args_menu_id.indexOf("#y")||0<c.args_menu_id.indexOf("#z"))f.fClassName=
"TAxis";a.showMethodArgsDialog(f).then(function(a){a&&!c.executeMenuCommand(f,a)&&(a=f.fExec.substr(0,f.fExec.length-1)+a+")",d&&d.sendWebsocket("OBJEXEC:"+c.args_menu_id+":"+a))})}}var d=this;if(this._userContextMenuFunc)return this._userContextMenuFunc(a,b);var f=this.getCanvPainter();if(!this.snapid||!f||f._readonly||!f._websocket)return Promise.resolve(a);var h=function(a,b,f,h){if(!d._got_menu){d._got_menu=!0;h&&b!==h.fId&&console.error("missmatch between request "+b+" and reply "+h.fId+" identifiers");
if((b=h?h.fItems:null)&&b.length){0<a.size()&&a.add("separator");d.args_menu_items=b;d.args_menu_id=h.fId;for(h=0;h<b.length;++h){var e=b[h];if(e.fClassName&&g&&g!=e.fClassName){a.add("endsub:");var g=""}if(g!=e.fClassName){g=e.fClassName;var k=g.lastIndexOf("::");k=0<k?g.substr(k+2):g;a.add("sub:"+k.replace(/[<>]/g,"_"))}void 0===e.fChecked||0>e.fChecked?a.add(e.fName,h,c):a.addchk(e.fChecked,e.fName,h,c)}g&&a.add("endsub:")}f(a)}},e=this.snapid;b&&(e+="#"+b);this._got_menu=!1;a.painter&&(a.painter.exec_painter=
a.painter!==this?this:void 0);return new Promise(function(c){setTimeout(function(){return h(a,e,c)},2E3);f.submitMenuRequest(d,b,e).then(function(b){return h(a,e,c,b)})})};g.prototype.configureUserTooltipHandler=function(a,b){a&&"function"===typeof a?(this._user_tooltip_handler=a,this._user_tooltip_timeout=b||100):(delete this._user_tooltip_handler,delete this._user_tooltip_timeout)};g.prototype.configureUserClickHandler=function(a){var b=this.getFramePainter();b&&b.configureUserClickHandler&&b.configureUserClickHandler(a)};
g.prototype.configureUserDblclickHandler=function(a){var b=this.getFramePainter();b&&b.configureUserDblclickHandler&&b.configureUserDblclickHandler(a)};g.prototype.hasUserTooltip=function(){return"function"==typeof this._user_tooltip_handler};g.prototype.provideUserTooltip=function(a){var b=this;if(this.hasUserTooltip()){if(0>=this._user_tooltip_timeout)return this._user_tooltip_handler(a);this._user_tooltip_handle&&(clearTimeout(this._user_tooltip_handle),delete this._user_tooltip_handle);if(!a)return this._user_tooltip_handler(a);
this._user_tooltip_handle=setTimeout(function(){delete b._user_tooltip_handle;b._user_tooltip_handler&&b._user_tooltip_handler(a)},this._user_tooltip_timeout)}};g.prototype.provideSpecialDrawArea=function(a){var b=this;return a==this._special_draw_area?Promise.resolve(!0):this.getCanvPainter().toggleProjection(a).then(function(){b._special_draw_area=a;return!0})};g.prototype.drawInSpecialArea=function(a,b){var c=this.getCanvPainter();return this._special_draw_area&&c&&"function"===typeof c.drawProjection?
c.drawProjection(this._special_draw_area,a,b):Promise.resolve(!1)};g.prototype.getToolTip=function(a){if(!a||void 0===a.clientX||void 0===a.clientY)return null;var b=this.getFrameSvg();if(b.empty())return null;b=b.select(".main_layer");if(b.empty())return null;a=e.pointer(a,b.node());a={touch:!1,x:a[0],y:a[1]};if("function"==typeof this.extractToolTip)return this.extractToolTip(a);a.disabled=!0;b=null;"function"==typeof this.processTooltipEvent&&(b=this.processTooltipEvent(a));return b&&b.user_info?
b.user_info:b};y.prototype=Object.create(g.prototype);y.prototype.cleanup=function(){this.ticks=[];delete this.format;delete this.func;delete this.tfunc1;delete this.tfunc2;delete this.gr;delete this.axis;delete this.axis_g;g.prototype.cleanup.call(this)};y.prototype.assignFrameMembers=function(a,b){a["gr"+b]=this.gr;a["log"+b]=this.log;a["scale_"+b+"min"]=this.scale_min;a["scale_"+b+"max"]=this.scale_max};y.prototype.convertDate=function(a){return new Date(this.timeoffset+1E3*a)};y.prototype.revertPoint=
function(a){a=this.func.invert(a);return"time"==this.kind?(a-this.timeoffset)/1E3:a};y.prototype.formatTime=function(a,b){return b?this.tfunc1(a):this.tfunc2(a)};y.prototype.formatLog=function(a,b,c){a=parseFloat(a);var d=Math.round(a);if(!b)return d===a&&1E9>Math.abs(d)?d.toString():m.floatToString(a,c||JSROOT.gStyle.fStatFormat);if(0>=a)return null;c=Math.log10(a);d=this.logbase;10!==d&&(c/=Math.log10(d));return this.moreloglabels||.001>Math.abs(c-Math.round(c))?this.noexp||2==b?0>c?a.toFixed(Math.round(-c+
.5)):a.toFixed(0):this.formatExp(d,Math.floor(c+.01),a):null};y.prototype.formatNormal=function(a,b,c){a=parseFloat(a);b&&this.order&&(a/=Math.pow(10,this.order));return a===Math.round(a)?1E9>Math.abs(a)?a.toFixed(0):a.toExponential(4):b?10<this.ndig?a.toExponential(this.ndig-11):a.toFixed(this.ndig):m.floatToString(a,c||JSROOT.gStyle.fStatFormat)};y.prototype.formatExp=function(a,b,c){var d="";c&&(c=Math.round(c/Math.pow(a,b)),0!=c&&1!=c&&(d=c.toString()+(JSROOT.settings.Latex?"#times":"x")));d=
.001>Math.abs(a-Math.exp(1))?d+"e":d+a.toString();if(JSROOT.settings.Latex>JSROOT.constants.Latex.Symbols)return d+"^{"+b+"}";a={0:"\u2070",1:"\u00b9",2:"\u00b2",3:"\u00b3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","-":"\u207b"};b=b.toString();for(c=0;c<b.length;++c)d+=a[b[c]];return d};y.prototype.axisAsText=function(a,b){"time"==this.kind&&(a=this.convertDate(a));return this.format?this.format(a,!1,b):a.toPrecision(4)};y.prototype.poduceLogTicks=function(a,b){function c(a){for(var b=
0,c=0,d=1;d<a.length;++d){var f=a[d]-a[d-1];b+=f;c+=f*f}b/=a.length-1;a=c/(a.length-1)-b*b;return 0>=a?!0:1E-100>Math.abs(b)?!1:1E-6>Math.sqrt(a)/b}for(var d=this,f=a.ticks(b);4<b&&c(f);)b=Math.round(.8*b),f=a.ticks(b);if(5>b&&c(f)&&this.logbase&&10!=this.logbase){var h=[];f.forEach(function(a){var b=Math.log10(a)/Math.log10(d.logbase);.01>Math.abs(Math.round(b)-b)&&h.push(a)});0<h.length&&(f=h)}return f};y.prototype.produceTicks=function(a,b){if(!this.noticksopt){var c=a*(b||1);if(this.log)return this.poduceLogTicks(this.func,
c);var d=this.func.domain();a=function(a){return a.length<=c?!0:a.length>c+1?!1:a[0]===d[0]||a[c]===d[1]};var f=this.func.ticks(c);if(b||a(f))return f;b=this.func.ticks(Math.round(.7*c));return 2<b.length&&a(b)?b:f}f=this.func.domain();var h=[];b&&(a=(a-1)*b);for(b=0;b<=a;++b)h.push((f[0]*(a-b)+f[1]*b)/a);return h};y.prototype.analyzeWheelEvent=function(a,b,c,d){c||(c={});var f=0,h=1,e=1;"dleft"in c&&(h=c.dleft,f=1);"dright"in c&&(e=c.dright,f=1);c.delta?f=c.delta:a&&(f=a.wheelDelta?-a.wheelDelta:
a.deltaY||a.detail);if(!(!f||d&&c.ignore)){f=0>f?-.2:.2;h*=f;e*=f;a=c.min=this.scale_min;d=c.max=this.scale_max;var g=this.full_min,m=this.full_max;c.min===c.max&&0>f&&(c.min=g,c.max=m);if(!(c.min>=c.max)){c.reverse&&(b=1-b);if(0<b&&1>b){if(this.log)f=0<c.min?Math.log10(c.max/c.min):2,10<f?f=10:.01>f&&(f=.01),c.min/=Math.pow(10,f*h*b),c.max*=Math.pow(10,f*e*(1-b));else if(h!==-e||c.reverse){var n=f=c.max-c.min;0<h&&(f=1.001*f/(1-h));c.min+=-h*b*f;0<e&&(n=1.001*n/(1-e));c.max-=-e*(1-b)*n}else b*=(c.max-
c.min)*e,Math.round(c.max)===c.max&&Math.round(c.min)===c.min&&1<Math.abs(b)&&(b=Math.round(b)),c.min+b<g?b=g-c.min:c.max+b>m&&(b=m-c.max),0!=b?(c.min+=b,c.max+=b):(delete c.min,delete c.max);if(c.min>=c.max)c.min=c.max=void 0;else if(h!==e){if(c.min<g&&a===g||c.max>m&&d===m)c.min=c.max=void 0}else c.min<g&&(c.min=g),c.max>m&&(c.max=m)}else c.min=c.max=void 0;c.changed=void 0!==c.min&&void 0!==c.max;return c}}};m.selectActivePad=function(a){if(a.active){var b=this.$active_pp?this.$active_pp.getFramePainter():
null;b&&b.setFrameActive(!1);(b=(this.$active_pp=a.pp)?this.$active_pp.getFramePainter():null)&&b.setFrameActive(!0)}else this.$active_pp===a.pp&&delete this.$active_pp};m.getActivePad=function(){return this.$active_pp};m.drawRawText=function(a,b){a=new n(a);a.txt=b;a.redrawObject=function(a){this.txt=a;this.Draw();return!0};a.Draw=function(){var a=this,b=this.txt._typename&&"TObjString"==this.txt._typename?this.txt.fString:this.txt.value;"string"!=typeof b&&(b="<undefined>");var f=this.txt.mathjax||
JSROOT.settings.Latex==JSROOT.constants.Latex.AlwaysMathJax;if(!(f||"as_is"in this.txt)){var h=b.split("\n");b="";for(var e=0;e<h.length;++e)b+="<pre style='margin:0'>"+h[e]+"</pre>"}var g=this.selectDom();h=g.select("div");h.empty()&&(h=g.append("div").style("max-width","100%").style("max-height","100%").style("overflow","auto"));h.html(b);this.setTopPainter();return f?JSROOT.require("latex").then(function(b){b.typesetMathjax(g.node());return a}):Promise.resolve(this)};return a.Draw()};m.registerForResize=
function(a,b){function c(){d=null;document.body.style.cursor="wait";if("function"==typeof a)a();else if(a&&"object"==typeof a&&"function"==typeof a.checkResize)a.checkResize();else{var b=(new n(a)).selectDom();if(!b.empty()){var c=b.property("mdi");c&&"function"==typeof c.checkMDIResize?c.checkMDIResize():JSROOT.resize(b.node())}}document.body.style.cursor="auto"}if(a&&!JSROOT.batch_mode&&"undefined"!=typeof window){var d=null,f=b?b:300;20>f&&(f=20);window.addEventListener("resize",function(){null!==
d&&clearTimeout(d);d=setTimeout(c,f)})}};var A={lst:[{name:"TCanvas",icon:"img_canvas",prereq:"gpad",func:".drawCanvas",opt:";grid;gridx;gridy;tick;tickx;ticky;log;logx;logy;logz",expand_item:"fPrimitives"},{name:"TPad",icon:"img_canvas",prereq:"gpad",func:".drawPad",opt:";grid;gridx;gridy;tick;tickx;ticky;log;logx;logy;logz",expand_item:"fPrimitives"},{name:"TSlider",icon:"img_canvas",prereq:"gpad",func:".drawPad"},{name:"TFrame",icon:"img_frame",prereq:"gpad",func:".drawFrame"},{name:"TPave",icon:"img_pavetext",
prereq:"hist",func:".drawPave"},{name:"TPaveText",icon:"img_pavetext",prereq:"hist",func:".drawPave"},{name:"TPavesText",icon:"img_pavetext",prereq:"hist",func:".drawPave"},{name:"TPaveStats",icon:"img_pavetext",prereq:"hist",func:".drawPave"},{name:"TPaveLabel",icon:"img_pavelabel",prereq:"hist",func:".drawPave"},{name:"TDiamond",icon:"img_pavelabel",prereq:"hist",func:".drawPave"},{name:"TLatex",icon:"img_text",prereq:"more",func:".drawText",direct:!0},{name:"TMathText",icon:"img_text",prereq:"more",
func:".drawText",direct:!0},{name:"TText",icon:"img_text",prereq:"more",func:".drawText",direct:!0},{name:/^TH1/,icon:"img_histo1d",prereq:"hist",func:".drawHistogram1D",opt:";hist;P;P0;E;E1;E2;E3;E4;E1X0;L;LF2;B;B1;A;TEXT;LEGO;same",ctrl:"l"},{name:"TProfile",icon:"img_profile",prereq:"hist",func:".drawHistogram1D",opt:";E0;E1;E2;p;AH;hist"},{name:"TH2Poly",icon:"img_histo2d",prereq:"hist",func:".drawHistogram2D",opt:";COL;COL0;COLZ;LCOL;LCOL0;LCOLZ;LEGO;TEXT;same",expand_item:"fBins",theonly:!0},
{name:"TProfile2Poly",sameas:"TH2Poly"},{name:"TH2PolyBin",icon:"img_histo2d",draw_field:"fPoly",draw_field_opt:"L"},{name:/^TH2/,icon:"img_histo2d",prereq:"hist",func:".drawHistogram2D",opt:";COL;COLZ;COL0;COL1;COL0Z;COL1Z;COLA;BOX;BOX1;PROJ;PROJX1;PROJX2;PROJX3;PROJY1;PROJY2;PROJY3;SCAT;TEXT;TEXTE;TEXTE0;CONT;CONT1;CONT2;CONT3;CONT4;ARR;SURF;SURF1;SURF2;SURF4;SURF6;E;A;LEGO;LEGO0;LEGO1;LEGO2;LEGO3;LEGO4;same",ctrl:"colz"},{name:"TProfile2D",sameas:"TH2"},{name:/^TH3/,icon:"img_histo3d",prereq:"hist3d",
func:".drawHistogram3D",opt:";SCAT;BOX;BOX2;BOX3;GLBOX1;GLBOX2;GLCOL"},{name:"THStack",icon:"img_histo1d",prereq:"hist",func:".drawHStack",expand_item:"fHists",opt:"NOSTACK;HIST;E;PFC;PLC"},{name:"TPolyMarker3D",icon:"img_histo3d",prereq:"hist3d",func:".drawPolyMarker3D",direct:!0,frame:"3d"},{name:"TPolyLine3D",icon:"img_graph",prereq:"base3d",func:".drawPolyLine3D",direct:!0},{name:"TGraphStruct"},{name:"TGraphNode"},{name:"TGraphEdge"},{name:"TGraphTime",icon:"img_graph",prereq:"more",func:".drawGraphTime",
opt:"once;repeat;first",theonly:!0},{name:"TGraph2D",icon:"img_graph",prereq:"hist3d",func:".drawGraph2D",opt:";P;PCOL",theonly:!0},{name:"TGraph2DErrors",icon:"img_graph",prereq:"hist3d",func:".drawGraph2D",opt:";P;PCOL;ERR",theonly:!0},{name:"TGraphPolargram",icon:"img_graph",prereq:"more",func:".drawGraphPolargram",theonly:!0},{name:"TGraphPolar",icon:"img_graph",prereq:"more",func:".drawGraphPolar",opt:";F;L;P;PE",theonly:!0},{name:/^TGraph/,icon:"img_graph",prereq:"more",func:".drawGraph",opt:";L;P"},
{name:"TEfficiency",icon:"img_graph",prereq:"more",func:".drawEfficiency",opt:";AP"},{name:"TCutG",sameas:"TGraph"},{name:/^RooHist/,sameas:"TGraph"},{name:/^RooCurve/,sameas:"TGraph"},{name:"RooPlot",icon:"img_canvas",prereq:"more",func:".drawRooPlot"},{name:"TRatioPlot",icon:"img_mgraph",prereq:"more",func:".drawRatioPlot",opt:""},{name:"TMultiGraph",icon:"img_mgraph",prereq:"more",func:".drawMultiGraph",expand_item:"fGraphs"},{name:"TStreamerInfoList",icon:"img_question",prereq:"hierarchy",func:".drawStreamerInfo"},
{name:"TPaletteAxis",icon:"img_colz",prereq:"hist",func:".drawPave"},{name:"TWebPainting",icon:"img_graph",prereq:"more",func:".drawWebPainting"},{name:"TCanvasWebSnapshot",icon:"img_canvas",prereq:"gpad",func:".drawPadSnapshot"},{name:"TPadWebSnapshot",sameas:"TCanvasWebSnapshot"},{name:"kind:Text",icon:"img_text",func:m.drawRawText},{name:"TObjString",icon:"img_text",func:m.drawRawText},{name:"TF1",icon:"img_tf1",prereq:"math;more",func:".drawFunction"},{name:"TF2",icon:"img_tf2",prereq:"math;hist",
func:".drawTF2"},{name:"TSpline3",icon:"img_tf1",prereq:"more",func:".drawSpline"},{name:"TSpline5",icon:"img_tf1",prereq:"more",func:".drawSpline"},{name:"TEllipse",icon:"img_graph",prereq:"more",func:".drawEllipse",direct:!0},{name:"TArc",sameas:"TEllipse"},{name:"TCrown",sameas:"TEllipse"},{name:"TPie",icon:"img_graph",prereq:"more",func:".drawPie",direct:!0},{name:"TPieSlice",icon:"img_graph",dummy:!0},{name:"TLine",icon:"img_graph",prereq:"more",func:".drawLine",direct:!0},{name:"TArrow",icon:"img_graph",
prereq:"more",func:".drawArrow",direct:!0},{name:"TPolyLine",icon:"img_graph",prereq:"more",func:".drawPolyLine",direct:!0},{name:"TCurlyLine",sameas:"TPolyLine"},{name:"TCurlyArc",sameas:"TPolyLine"},{name:"TGaxis",icon:"img_graph",prereq:"gpad",func:".drawGaxis"},{name:"TLegend",icon:"img_pavelabel",prereq:"hist",func:".drawPave"},{name:"TBox",icon:"img_graph",prereq:"more",func:".drawBox",direct:!0},{name:"TWbox",icon:"img_graph",prereq:"more",func:".drawBox",direct:!0},{name:"TSliderBox",icon:"img_graph",
prereq:"more",func:".drawBox",direct:!0},{name:"TAxis3D",prereq:"hist3d",func:".drawAxis3D"},{name:"TMarker",icon:"img_graph",prereq:"more",func:".drawMarker",direct:!0},{name:"TPolyMarker",icon:"img_graph",prereq:"more",func:".drawPolyMarker",direct:!0},{name:"TASImage",icon:"img_mgraph",prereq:"more",func:".drawASImage",opt:";z"},{name:"TJSImage",icon:"img_mgraph",prereq:"more",func:".drawJSImage",opt:";scale;center"},{name:"TGeoVolume",icon:"img_histo3d",prereq:"geom",func:".drawGeoObject",expand:"JSROOT.GEO.expandObject",
opt:";more;all;count;projx;projz;wire;no_screen;dflt",ctrl:"dflt"},{name:"TEveGeoShapeExtract",icon:"img_histo3d",prereq:"geom",func:".drawGeoObject",expand:"JSROOT.GEO.expandObject",opt:";more;all;count;projx;projz;wire;dflt",ctrl:"dflt"},{name:"ROOT::Experimental::REveGeoShapeExtract",icon:"img_histo3d",prereq:"geom",func:".drawGeoObject",expand:"JSROOT.GEO.expandObject",opt:";more;all;count;projx;projz;wire;dflt",ctrl:"dflt"},{name:"TGeoOverlap",icon:"img_histo3d",prereq:"geom",expand:"JSROOT.GEO.expandObject",
func:".drawGeoObject",opt:";more;all;count;projx;projz;wire;dflt",dflt:"dflt",ctrl:"expand"},{name:"TGeoManager",icon:"img_histo3d",prereq:"geom",expand:"JSROOT.GEO.expandObject",func:".drawGeoObject",opt:";more;all;count;projx;projz;wire;tracks;no_screen;dflt",dflt:"expand",ctrl:"dflt"},{name:/^TGeo/,icon:"img_histo3d",prereq:"geom",func:".drawGeoObject",expand:"JSROOT.GEO.expandObject",opt:";more;all;axis;compa;count;projx;projz;wire;no_screen;dflt",dflt:"dflt",ctrl:"expand"},{name:"kind:Command",
icon:"img_execute",execute:!0},{name:"TFolder",icon:"img_folder",icon2:"img_folderopen",noinspect:!0,prereq:"hierarchy",expand:".folderHierarchy"},{name:"TTask",icon:"img_task",prereq:"hierarchy",expand:".taskHierarchy",for_derived:!0},{name:"TTree",icon:"img_tree",prereq:"tree",expand:"JSROOT.treeHierarchy",func:"JSROOT.drawTree",dflt:"expand",opt:"player;testio",shift:"inspect"},{name:"TNtuple",icon:"img_tree",prereq:"tree",expand:"JSROOT.treeHierarchy",func:"JSROOT.drawTree",dflt:"expand",opt:"player;testio",
shift:"inspect"},{name:"TNtupleD",icon:"img_tree",prereq:"tree",expand:"JSROOT.treeHierarchy",func:"JSROOT.drawTree",dflt:"expand",opt:"player;testio",shift:"inspect"},{name:"TBranchFunc",icon:"img_leaf_method",prereq:"tree",func:"JSROOT.drawTree",opt:";dump",noinspect:!0},{name:/^TBranch/,icon:"img_branch",prereq:"tree",func:"JSROOT.drawTree",dflt:"expand",opt:";dump",ctrl:"dump",shift:"inspect",ignore_online:!0},{name:/^TLeaf/,icon:"img_leaf",prereq:"tree",noexpand:!0,func:"JSROOT.drawTree",opt:";dump",
ctrl:"dump",ignore_online:!0},{name:"TList",icon:"img_list",prereq:"hierarchy",func:".drawList",expand:".listHierarchy",dflt:"expand"},{name:"THashList",sameas:"TList"},{name:"TObjArray",sameas:"TList"},{name:"TClonesArray",sameas:"TList"},{name:"TMap",sameas:"TList"},{name:"TColor",icon:"img_color"},{name:"TFile",icon:"img_file",noinspect:!0},{name:"TMemFile",icon:"img_file",noinspect:!0},{name:"TStyle",icon:"img_question",noexpand:!0},{name:"Session",icon:"img_globe"},{name:"kind:TopFolder",icon:"img_base"},
{name:"kind:Folder",icon:"img_folder",icon2:"img_folderopen",noinspect:!0},{name:"ROOT::Experimental::RCanvas",icon:"img_canvas",prereq:"v7gpad",func:"JSROOT.v7.drawRCanvas",opt:"",expand_item:"fPrimitives"},{name:"ROOT::Experimental::RCanvasDisplayItem",icon:"img_canvas",prereq:"v7gpad",func:"JSROOT.v7.drawPadSnapshot",opt:"",expand_item:"fPrimitives"}],cache:{}};m.addDrawFunc=function(a){A.lst.push(a);return a};m.addStreamerInfos=function(a){function b(c,d){if(!c.fElements||10<d)return null;for(var f=
0;f<c.fElements.arr.length;++f){var e=c.fElements.arr[f];if("BASE"===e.fTypeName){var h=z("ROOT."+e.fName);h&&!h.for_derived&&(h=null);if(null===h)for(var g=0;g<a.arr.length;++g)if(a.arr[g].fName===e.fName){h=b(a.arr[g],d+1);break}if(h&&h.for_derived)return h}}return null}if(a)for(var c=0;c<a.arr.length;++c){var d=a.arr[c];if(null===z("ROOT."+d.fName)){var f=b(d,0);f&&(f=JSROOT.extend({},f),f.name=d.fName,A.lst.push(f))}}};m.canDraw=function(a){return null!==E("ROOT."+a).opts};m.setDefaultDrawOpt=
function(a,b){if(a=z("ROOT."+a,0))a.dflt=b};JSROOT.draw=function(a,b,c){function d(){if("v7"==e.direct){var d=new g(a,b,c);d.csstype=e.csstype;var h=m.ensureRCanvas(d,e.frame||!1).then(function(){d.redraw=e.func;d.redraw();return d})}else if(e.direct){var k=new g(a,b,c);h=m.ensureTCanvas(k,e.frame||!1).then(function(){k.redraw=e.func;k.redraw();return k})}else h=e.func(a,b,c),m.isPromise(h)||(h=Promise.resolve(h));return h.then(function(a){if(!a)return Promise.reject(Error("Fail to draw object "+
f));"object"!=typeof a||a.options||(a.options={original:c||""});return a})}if(!b||"object"!==typeof b)return Promise.reject(Error("not an object in JSROOT.draw"));if("inspect"==c)return JSROOT.require("hierarchy").then(function(){return m.drawInspector(a,b)});if("_typename"in b){var f="type "+b._typename;var e=z("ROOT."+b._typename,c)}else if("_kind"in b)f="kind "+b._kind,e=z(b._kind,c);else return JSROOT.require("hierarchy").then(function(){return m.drawInspector(a,b)});if(!e)return Promise.reject(Error("Object of "+
f+" cannot be shown with JSROOT.draw"));if(e.dummy)return Promise.resolve(null);if(e.draw_field&&b[e.draw_field])return JSROOT.draw(a,b[e.draw_field],c||e.draw_field_opt);if(!e.func&&!e.direct){if(c&&0<=c.indexOf("same")){var k=m.getElementMainPainter(a);if(k&&"function"===typeof k.performDrop)return k.performDrop(b,"",null,c)}return Promise.reject(Error("Function not specified to draw object "+f))}if("function"==typeof e.func)return d();var l=e.func;if("string"!=typeof l)return Promise.reject(Error("Draw function not specified to draw "+
f));var n=e.prereq||"";"v7"==e.direct?n+=";v7gpad":e.direct&&(n+=";gpad");e.script&&(n+=";"+e.script);return n?JSROOT.require(n).then(function(){var a=JSROOT.findFunction(l);if(!a)return Promise.reject(Error("Fail to find function "+l+" after loading "+n));e.func=a;return d()}):Promise.reject(Error("Prerequicities to load "+l+" are not specified"))};JSROOT.redraw=function(a,b,c){if(!b||"object"!==typeof b)return Promise.reject(Error("not an object in JSROOT.redraw"));var d=m.getElementCanvPainter(a),
e,h=null,k;b._typename&&(e=z("ROOT."+b._typename));e&&e.draw_field&&b[e.draw_field]&&(b=b[e.draw_field]);if(d)if(d.matchObjectType(b._typename))(k=d.redrawObject(b,c))&&(h=d);else for(e=0;e<d.painters.length;++e){var l=d.painters[e];if(l.matchObjectType(b._typename)&&(k=l.redrawObject(b,c))){h=l;break}}else(d=(new g(a)).getTopPainter())&&"function"==typeof d.redrawObject&&(k=d.redrawObject(b,c))&&(h=d);if(h)return k&&"object"==typeof k&&k.then||(k=Promise.resolve(!0)),k.then(function(){return h});
JSROOT.cleanup(a);return JSROOT.draw(a,b,c)};JSROOT.drawingJSON=function(a){return(a=m.getElementCanvPainter(a))?a.produceJSON():""};m.compressSVG=function(a){a=a.replace(/url\(&quot;#(\w+)&quot;\)/g,"url(#$1)").replace(/ class="\w*"/g,"").replace(/ pad="\w*"/g,"").replace(/ title=""/g,"").replace(/<g objname="\w*" objtype="\w*"/g,"<g").replace(/<g transform="translate\(\d+,\d+\)"><\/g>/g,"").replace(/<g><\/g>/g,"");a=a.replace(/<svg x="0" y="0" overflow="hidden" width="\d+" height="\d+" viewBox="0 0 \d+ \d+"><\/svg>/g,
"");0>a.indexOf("xlink:href")&&(a=a.replace(/ xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"/g,""));return a};JSROOT.makeSVG=function(a){function b(b){b.attr("width",a.width).attr("height",a.height);b.style("width",a.width+"px").style("height",a.height+"px");JSROOT._.svg_3ds=void 0;return JSROOT.draw(b.node(),a.object,a.option||"").then(function(){var c=JSROOT._.svg_3ds&&m.processSvgWorkarounds;b.select("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("width",
a.width).attr("height",a.height).attr("style",null).attr("class",null).attr("x",null).attr("y",null);var d=b.html();c&&(d=m.processSvgWorkarounds(d));d=m.compressSVG(d);JSROOT.cleanup(b.node());b.remove();return d})}a||(a={});if(!a.object)return Promise.reject(Error("No object specified to generate SVG"));a.width||(a.width=1200);a.height||(a.height=800);if(!JSROOT.nodejs)return b(e.select("body").append("div").style("visible","hidden"));if(!JSROOT._.nodejs_document){var c=require("jsdom").JSDOM;JSROOT._.nodejs_window=
(new c("<!DOCTYPE html>hello")).window;JSROOT._.nodejs_document=JSROOT._.nodejs_window.document;JSROOT._.nodejs_window.d3=e.select(JSROOT._.nodejs_document)}return b(JSROOT._.nodejs_window.d3.select("body").append("div"))};JSROOT.resize=function(a,b){!0===b?b={force:!0}:"object"!==typeof b&&(b=null);var c=!1;(new g(a)).forEachPainter(function(a){c||"function"!=typeof a.checkResize||(c=a.checkResize(b))});return c};m.getElementCanvPainter=function(a){return(new g(a)).getCanvPainter()};m.getElementMainPainter=
function(a){return(new g(a)).getMainPainter(!0)};JSROOT.cleanup=function(a){a=new g(a);var b=[];a.forEachPainter(function(a){0>b.indexOf(a)&&b.push(a)});b.forEach(function(a){return a.cleanup()});a.selectDom().html("");return b};m.showProgress=function(a,b){if(!JSROOT.batch_mode&&"undefined"!==typeof document){var c=e.select("#jsroot_progressbox");if(!JSROOT.settings.ProgressBox)return c.remove();0!=arguments.length&&a?(c.empty()&&(c=e.select(document.body).append("div").attr("id","jsroot_progressbox"),
c.append("p")),c.property("with_timeout",!1),"string"===typeof a?c.select("p").html(a):(c.html(""),c.node().appendChild(a)),Number.isFinite(b)&&0<b&&(c.property("with_timeout",!0),setTimeout(function(){return m.showProgress("",-1)},b))):(-1!==b||!c.empty()&&c.property("with_timeout"))&&c.remove()}};m.floatToString=function(a,b,c){b||(b="6.4g");b=b.trim();var d=b.length;if(2>d)return c?[a.toFixed(4),"6.4f"]:a.toFixed(4);var e=b[d-1];b=b.slice(0,d-1);d=b.indexOf(".");d=0>d?4:parseInt(b.slice(d+1));
if(!Number.isInteger(d)||0>=d)d=4;var g=!1;if("e"==e||"E"==e)b=!0;else if("Q"==e)g=b=!0;else if("f"==e||"F"==e)b=!1;else if("W"==e)b=!1,g=!0;else{if("g"==e||"G"==e)return d=m.floatToString(a,b+"Q",!0),a=m.floatToString(a,b+"W",!0),d[0].length<a[0].length&&(a=d),c?a:a[0];b=!1;d=4}if(b)return g&&d--,0>d&&(d=0),a=a.toExponential(d),c?[a,"5."+d+"e"]:a;b=a.toFixed(d);if(g){0!=a&&0==Number(b)&&0<d&&(d=20,b=a.toFixed(d));for(g=0;g<b.length&&("0"==b[g]||"-"==b[g]||"."==b[g]);)g++;e=b.length-g-d;b.indexOf(".")>
g&&e--;0!=e&&(d-=e,0>d?d=0:20<d&&(d=20),b=a.toFixed(d))}return c?[b,"5."+d+"f"]:b};m.closeCurrentWindow=function(){window&&(window.close(),window.open("","_self").close())};m.createRootColors();JSROOT.nodejs&&m.readStyleFromURL("?interactive=0&tooltip=0&nomenu&noprogress&notouch&toolbar=0&webgl=0");m.getDrawHandle=z;m.getDrawSettings=E;JSROOT.DrawOptions=q;JSROOT.ColorPalette=u;JSROOT.TAttLineHandler=p;JSROOT.TAttFillHandler=w;JSROOT.TAttMarkerHandler=r;JSROOT.FontHandler=v;JSROOT.BasePainter=n;JSROOT.ObjectPainter=
g;JSROOT.AxisBasePainter=y;JSROOT.Painter=m;JSROOT.nodejs&&(module.exports=m);return m});
